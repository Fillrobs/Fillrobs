!function(e,t,i,n){var s="collapsible",a={pluginClass:s,collapsedClass:"collapsible-collapsed",expandedClass:"collapsible-expanded",headerClass:"collapsible-header",contentClass:"collapsible-content",enhancedClass:"collapsible-enhanced",instructions:!1,innerButton:!1,collapsed:!1};function l(t,i){this.element=e(t);var n={};if(this.element.is("[data-config]"))for(var l in a)if(a.hasOwnProperty(l)){var o=this.element.attr("data-"+l.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})));undefined!==o&&(n[l]="true"===o||"false"===o?"true"===o:o)}this.options=e.extend({},a,n,i),this.element.is("."+this.options.collapsedClass)&&(this.options.collapsed=!0),this._defaults=a,this._name=s,this.init()}l.prototype={init:function(){this.header=this.element.children().filter("."+this.options.headerClass),this.header.length||(this.header=this.element.children().eq(0)),this.content=this.element.children().filter("."+this.options.contentClass),this.content.length||(this.content=this.header.next()),this.options.innerButton&&(this.headerHTML=this.header.text(),this.headerButton=e("<button></button>").append(this.headerHTML)),this._addAttributes(),this._bindEvents(),this.element.data(s,this),this.element.trigger("init")},_addAttributes:function(){this.element.addClass(this.options.pluginClass).addClass(this.options.enhancedClass),this.header.addClass(this.options.headerClass),this._addA11yAttrs(),this.content.addClass(this.options.contentClass)},_addA11yAttrs:function(){this.options.innerButton?(this.header.html(""),this.header.append(this.headerButton)):(this.header.attr("role","button"),this.header.attr("tabindex","0"),this.options.instructions&&this.header.attr("title",this.options.instructions))},_removeA11yAttrs:function(){this.options.innerButton?(this.header.html(""),this.header.append(this.headerHTML)):(this.header.removeAttr("role"),this.header.removeAttr("tabindex"),this.header.removeAttr("title"))},_isNonInteractive:function(){var e=t.getComputedStyle(this.content[0],null),i=t.getComputedStyle(this.header[0],null);return this.options.innerButton&&(i=t.getComputedStyle(this.headerButton[0],null)),"none"!==e.getPropertyValue("display")&&"hidden"!==e.getPropertyValue("visibility")&&"default"===i.getPropertyValue("cursor")},_checkInteractivity:function(){this._isNonInteractive()?this._removeA11yAttrs():this._addA11yAttrs()},_bindEvents:function(){var i,n=this;this.header.bind("click",(function(e){n.toggle(e.target),e.preventDefault()})).bind("keydown.collapsible",(function(e){13!==e.which&&32!==e.which||(n.toggle(e.target),e.preventDefault())})),this.options.collapsed?this._collapse():this._expand(),this._checkInteractivity(),e(t).bind("resize",(function(){i&&clearTimeout(i),i=setTimeout((function(){n._checkInteractivity.call(n)}),150)}))},collapsed:!1,_expand:function(){this.element.removeClass(this.options.collapsedClass),this.element.addClass(this.options.expandedClass),this.options.innerButton?this.headerButton.attr("aria-expanded","true"):this.header.attr("aria-expanded","true"),this.collapsed=!1},expand:function(){var t=e(this).data(s)||this;t._expand(),t.element.trigger("expand")},_collapse:function(){this.element.addClass(this.options.collapsedClass),this.element.removeClass(this.options.expandedClass),this.options.innerButton?this.headerButton.attr("aria-expanded","false"):this.header.attr("aria-expanded","false"),this.collapsed=!0},collapse:function(){var t=e(this).data(s)||this;t._collapse(),t.element.trigger("collapse")},toggle:function(){this.collapsed?this.expand():this.collapse()},focusable:"a, input, textarea, select, button, [tabindex='0']"},e.fn.collapsible=function(t){return this.each((function(){e(this).data(s)||new l(this,t)}))},e(i).bind("enhance",(function(t){var i=".collapsible";e(e(t.target).is(i)&&t.target).add(i,t.target).filter(i).collapsible()}))}(jQuery,window,document),function(e,t,i,n){e(i).bind("init",(function(i){var n="collapsible";if(e(i.target).is(".collapsible")){var s,a=e(i.target),l=a.data(n),o=a.prev().filter(".collapsible-trigger"),r="collapsible-trigger-expand",d=function(){return("absolute"===a.children(".collapsible-content").css("position")||a.is("[data-collapsible-ismenu]"))&&!a.is("[data-collapsible-hoverdisabled]")},c=!1;e("body").bind("gesturestart.collapsible",(function(){c=!0})).bind("mousemove.collapsible",(function(){c=!0})).bind("touchstart.collapsible pointerdown.collapsible MSPointerDown.collapsible",(function(e){s=e.target.getBoundingClientRect().top})).bind("focusin.collapsible touchend.collapsible click.collapsible pointerup.collapsible MSPointerUp.collapsible",(function(t){var l=t.originalEvent?t.originalEvent.type:t.type;"touchend"!==l&&"pointerup"!==l&&"MSPointerUp"!==l||s&&Math.abs(s-t.target.getBoundingClientRect().top)>5&&(c=!0),e(t.target).closest(i.target).length||e(t.target).closest(o).length||a.data(n).collapsed||!d()||!1!==c||(setTimeout((function(){a.data(n).collapse()})),e(t.target).closest("a,select,input,textarea,button,label").length&&!e(t.target).closest(".collapsible-header").length&&t.preventDefault()),setTimeout((function(){s=null,c=!1}),200)}));var h,p=!1,u=a.is("[data-collapsible-hover]"),f=a.is("[data-collapsible-hover='exclusive']");u&&(f&&l.header.unbind("click tap"),a.add(o).bind("touchstart pointerdown MSPointerDown",(function(e){var t=e.originalEvent?e.originalEvent:e;("pointerdown"!==t.type&&"MSPointerDown"!==t.type||!t.pointerType||"mouse"!==t.pointerType&&4!==t.pointerType)&&(p=!0)})).bind("mouseover.collapsible",(function(t){h=(new Date).getTime(),!p&&d()&&e(t.target).closest(l.header).length&&a.data(n).expand()})).bind("mouseleave.collapsible",(function(){h=null,!p&&d()&&e(i.target).is(a)&&a.data(n).collapse()})).bind("click",(function(i){if(h){var n=(new Date).getTime()-h;e(i.target).is(l.header)&&d()&&e(i.target).is("a[href]")&&!p&&n>300&&(t.location.href=i.target.href)}})),a.bind("expand",(function(){o.addClass(r)})).bind("collapse",(function(){o.removeClass(r)}))),l.arrow=function(t,i){var n,s=this.content.find(this.focusable);if(e(t).is(this.header)&&!i)n=s[0];else{i&&(s=s.reverse?s.reverse():e(s.get().reverse()));var a=!1;s.each((function(){!n&&a&&this.offsetHeight>0&&this.offsetLeft>-1&&(n=this),a||(a=e(this).is(t))}))}n?n.focus():this.header[0].focus()},l.element.bind("keydown.collapsible",(function(e){!l.collapsed&&d()&&(39===e.which||40===e.which?(l.arrow(e.target),e.preventDefault()):37!==e.which&&38!==e.which||(l.arrow(e.target,!0),e.preventDefault()))}))}}))}(jQuery,window,document),function(e){"use strict";var t="has-open-panel",i=e("body");e("[data-collapsible-panel='true']").bind("collapse",(function(){i.removeClass(t)})).bind("expand",(function(){e(".collapsible-expanded").not(e(this)).find(".collapsible-header").trigger("click"),i.addClass(t)})),e(".catalog-filters--title").bind("click",(function(){e(this).parents(".collapsible-expanded").find(".collapsible-header").trigger("click"),i.removeClass(t)})),e(window).on("resize",(function(){e(".collapsible-expanded .collapsible-header").trigger("click")})),e(document).keyup((function(t){27===t.keyCode&&e(".collapsible-expanded .collapsible-header").trigger("click")}))}(jQuery),$((function(){$(document).trigger("enhance")}));
//# sourceMappingURL=catalog.js.map
