{"version":3,"sources":["collapsible.js","collapsible.menu.js","collapsible-helpers.js","cloudbolt-init.js"],"names":["$","window","document","undefined","pluginName","defaults","pluginClass","collapsedClass","expandedClass","headerClass","contentClass","enhancedClass","instructions","innerButton","collapsed","Plugin","element","options","this","dataOptions","is","option","hasOwnProperty","value","attr","replace","c","toLowerCase","extend","_defaults","_name","init","prototype","header","children","filter","length","eq","content","next","headerHTML","text","headerButton","append","_addAttributes","_bindEvents","data","trigger","addClass","_addA11yAttrs","html","_removeA11yAttrs","removeAttr","_isNonInteractive","computedContent","getComputedStyle","computedHeader","getPropertyValue","_checkInteractivity","resizepoll","self","bind","e","toggle","target","preventDefault","which","_collapse","_expand","clearTimeout","setTimeout","call","removeClass","expand","collapse","focusable","fn","each","selector","add","jQuery","targetTop","$collapsible","$trigger","prev","triggerExpand","isMenu","css","touchCancel","a","getBoundingClientRect","top","atype","originalEvent","type","Math","abs","closest","mouseovertimestamp","startedByTouch","hover","exclusiveHover","unbind","evt","pointerType","Date","getTime","timesincemouseover","location","href","arrow","back","nextTab","$focusables","find","reverse","get","afterTarget","offsetHeight","offsetLeft","focus","openClass","$body","not","parents","on","keyup","keyCode"],"mappings":"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","file":"catalog.js","sourcesContent":["/*\n * Collapsible widget\n * https://github.com/filamentgroup/collapsible\n * Copyright (c) 2014 Filament Group, Inc.\n * Licensed under the MIT, GPL licenses.\n */\n\n;(function ($, window, document, undefined) {\n\n\t// Defaults\n\tvar pluginName = \"collapsible\";\n\tvar idInt = 0;\n\t// overrideable defaults\n\tvar defaults = {\n\t\tpluginClass: pluginName,\n\t\tcollapsedClass: pluginName + \"-collapsed\",\n\t\texpandedClass: pluginName + \"-expanded\", // NOTE: don't use this class for showing/hiding collapsible-content. Instead, use it for expanded visual exceptions.\n\t\theaderClass: pluginName + \"-header\",\n\t\tcontentClass: pluginName + \"-content\",\n\t\tenhancedClass: pluginName + \"-enhanced\",\n\t\tinstructions: false,\n\t\tinnerButton: false, // this wraps the text of the header in a button and transfers the aria info to that button\n\t\tcollapsed: false\n\t};\n\n\t// plugin constructor\n\tfunction Plugin(element, options) {\n\t\tthis.element = $( element );\n\t\tvar self = this,\n\t\t\tdataOptions = {};\n\n\t\t// Allow data-attr option setting\n\t\tif( this.element.is( \"[data-config]\" ) ){\n\t\t\tfor( var option in defaults ){\n\t\t\t\t\tif( defaults.hasOwnProperty( option) ){\n\t\t\t\t\tvar value = self.element.attr( \"data-\" + option.replace( /[A-Z]/g, function( c ) {\n\t\t\t\t\t\t\t\t\treturn \"-\" + c.toLowerCase();\n\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\tif ( value !== undefined ) {\n\t\t\t\t\t\tif( value === \"true\" || value === \"false\" ){\n\t\t\t\t\t\t\tdataOptions[ option ] = value === \"true\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tdataOptions[ option ] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\n\t\tthis.options = $.extend( {}, defaults, dataOptions, options );\n\n\t\t// allow the collapsedClass to set the option if specified\n\t\tif( this.element.is( \".\" + this.options.collapsedClass ) ){\n\t\t\tthis.options.collapsed= true;\n\t\t}\n\n\t\tthis._defaults = defaults;\n\t\tthis._name = pluginName;\n\t\tthis.init();\n\t}\n\n\tPlugin.prototype = {\n\t\tinit: function () {\n\t\t\tthis.header = this.element.children().filter( \".\" + this.options.headerClass );\n\t\t\tif( !this.header.length ){\n\t\t\t\tthis.header = this.element.children().eq( 0 );\n\t\t\t}\n\t\t\tthis.content = this.element.children().filter( \".\" + this.options.contentClass );\n\t\t\tif( !this.content.length ){\n\t\t\t\tthis.content = this.header.next();\n\t\t\t}\n\t\t\tif( this.options.innerButton ){\n\t\t\t\tthis.headerHTML = this.header.text();\n\t\t\t\tthis.headerButton = $( \"<button></button>\" ).append( this.headerHTML );\n\t\t\t}\n\t\t\tthis._addAttributes();\n\t\t\tthis._bindEvents();\n\t\t\tidInt++;\n\t\t\tthis.element.data( pluginName, this );\n\t\t\tthis.element.trigger( \"init\" );\n\t\t},\n\n\t\t_addAttributes: function(){\n\t\t\tthis.element\n\t\t\t\t.addClass( this.options.pluginClass )\n\t\t\t\t.addClass( this.options.enhancedClass );\n\n\t\t\tthis.header.addClass( this.options.headerClass );\n\n\t\t\tthis._addA11yAttrs();\n\n\t\t\tthis.content.addClass( this.options.contentClass );\n\n\t\t},\n\n\t\t_addA11yAttrs: function(){\n\t\t\tif( this.options.innerButton ){\n\t\t\t\t\tthis.header.html( '' );\n\t\t\t\t\tthis.header.append( this.headerButton );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.header.attr( \"role\", \"button\" );\n\t\t\t\tthis.header.attr( \"tabindex\", \"0\" );\n\t\t\t\tif( this.options.instructions ){\n\t\t\t\t\tthis.header.attr( \"title\", this.options.instructions );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_removeA11yAttrs: function(){\n\t\t\tif( this.options.innerButton ){\n\t\t\t\tthis.header.html( '' );\n\t\t\t\tthis.header.append( this.headerHTML );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.header.removeAttr( \"role\" );\n\t\t\t\tthis.header.removeAttr( \"tabindex\" );\n\t\t\t\tthis.header.removeAttr( \"title\" );\n\t\t\t}\n\t\t},\n\n\t\t_isNonInteractive: function(){\n\t\t\tvar computedContent = window.getComputedStyle( this.content[ 0 ], null );\n\t\t\tvar computedHeader = window.getComputedStyle( this.header[ 0 ], null );\n\t\t\tif( this.options.innerButton ){\n\t\t\t\tcomputedHeader = window.getComputedStyle( this.headerButton[ 0 ], null );\n\t\t\t}\n\t\t\treturn computedContent.getPropertyValue( \"display\" ) !== \"none\" && computedContent.getPropertyValue( \"visibility\" ) !== \"hidden\" && computedHeader.getPropertyValue( \"cursor\" ) === \"default\";\n\t\t},\n\n\t\t_checkInteractivity: function(){\n\t\t\tif( this._isNonInteractive() ){\n\t\t\t\tthis._removeA11yAttrs();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis._addA11yAttrs();\n\t\t\t}\n\t\t},\n\n\n\t\t_bindEvents: function(){\n\t\t\tvar self = this;\n\n\t\t\tthis.header\n\t\t\t\t.bind( ( \"click\" ), function( e ){\n\t\t\t\t\tself.toggle( e.target );\n\t\t\t\t\te.preventDefault();\n\t\t\t\t})\n\t\t\t\t.bind( \"keydown.\" + pluginName, function( e ){\n\t\t\t\t\tif( e.which === 13 || e.which === 32 ){\n\t\t\t\t\t\tself.toggle( e.target );\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tif( this.options.collapsed ){\n\t\t\t\tthis._collapse();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._expand();\n\t\t\t}\n\n\n\t\t\tthis._checkInteractivity();\n\t\t\tvar resizepoll;\n\t\t\t$( window ).bind( \"resize\", function(){\n\t\t\t\tif( resizepoll ){\n\t\t\t\t\tclearTimeout( resizepoll );\n\t\t\t\t}\n\t\t\t\tresizepoll = setTimeout( function(){\n\t\t\t\t\tself._checkInteractivity.call( self );\n\t\t\t\t}, 150 );\n\t\t\t} );\n\t\t},\n\n\t\tcollapsed: false,\n\n\t\t// used internally to expand without triggering events (for init)\n\t\t_expand: function() {\n\t\t\tthis.element.removeClass( this.options.collapsedClass );\n\t\t\tthis.element.addClass( this.options.expandedClass );\n\t\t\tif( this.options.innerButton ){\n\t\t\t\tthis.headerButton.attr( \"aria-expanded\", \"true\" );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.header.attr( \"aria-expanded\", \"true\" );\n\t\t\t}\n\t\t\tthis.collapsed = false;\n\t\t},\n\n\t\texpand: function () {\n\t\t\tvar self = $( this ).data( pluginName ) || this;\n\t\t\tself._expand();\n\t\t\tself.element.trigger( \"expand\" );\n\t\t},\n\n\t\t// used internally to expand without triggering events (for init)\n\t\t_collapse: function() {\n\t\t\tthis.element.addClass( this.options.collapsedClass );\n\t\t\tthis.element.removeClass( this.options.expandedClass );\n\t\t\tif( this.options.innerButton ){\n\t\t\t\tthis.headerButton.attr( \"aria-expanded\", \"false\" );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.header.attr( \"aria-expanded\", \"false\" );\n\t\t\t}\n\t\t\tthis.collapsed = true;\n\t\t},\n\n\t\tcollapse: function() {\n\t\t\tvar self = $( this ).data( pluginName ) || this;\n\t\t\tself._collapse();\n\t\t\tself.element.trigger( \"collapse\" );\n\t\t},\n\n\t\ttoggle: function(){\n\t\t\tif(  this.collapsed ){\n\t\t\t\tthis.expand();\n\t\t\t} else {\n\t\t\t\tthis.collapse();\n\t\t\t}\n\t\t},\n\n\t\tfocusable: \"a, input, textarea, select, button, [tabindex='0']\"\n\n\n\n\t};\n\n\t// lightweight plugin wrapper around the constructor,\n\t// preventing against multiple instantiations\n\t$.fn[ pluginName ] = function (options) {\n\t\treturn this.each(function () {\n\t\t\tif ( !$( this ).data( pluginName ) ) {\n\t\t\t\tnew Plugin( this, options );\n\t\t\t}\n\t\t});\n\t};\n\n\t// Simple auto-init by selector that runs when the dom is ready. Trigger \"enhance\" if desirable.\n\t$( document ).bind( \"enhance\", function( e ){\n\t\tvar selector = \".\" + pluginName;\n\t\t$( $( e.target ).is( selector ) && e.target ).add( selector, e.target ).filter( selector )[ pluginName ]();\n\t});\n\n})(jQuery, window, document);\n","/*\n * Collapsible widget extension: menu behavior\n * https://github.com/filamentgroup/collapsible\n * Copyright (c) 2014 Filament Group, Inc.\n * Licensed under the MIT, GPL licenses.\n */\n\n;(function ($, window, document, undefined) {\n\n\t$( document ).bind( \"init\", function( e ){\n\t\tvar pluginName = \"collapsible\";\n\t\tif( $( e.target ).is( \".\" + pluginName ) ){\n\t\t\tvar $collapsible = $( e.target );\n\t\t\tvar self = $collapsible.data( pluginName );\n\t\t\tvar $trigger = $collapsible.prev().filter( \".\" + pluginName + \"-trigger\" );\n\t\t\tvar triggerExpand = pluginName + \"-trigger-expand\";\n\n\t\t\t// menu behavior (clickout, and optionally hover)\n\t\t\tvar isMenu = function(){\n\t\t\t\treturn ( $collapsible.children( \".\" + pluginName + \"-content\" ).css( \"position\" ) === \"absolute\" || $collapsible.is( \"[data-collapsible-ismenu]\" ) ) && !$collapsible.is( \"[data-collapsible-hoverdisabled]\" );\n\t\t\t};\n\n\t\t\t// tapout/clickout behavior\n\t\t\tvar targetTop;\n\t\t\tvar touchCancel = false;\n\t\t\t$( \"body\" )\n\t\t\t\t.bind( \"gesturestart.\" + pluginName, function(){\n\t\t\t\t\ttouchCancel = true;\n\t\t\t\t})\n\t\t\t\t.bind( \"mousemove.\" + pluginName, function(){\n\t\t\t\t\ttouchCancel = true;\n\t\t\t\t})\n\t\t\t\t.bind( \"touchstart.\" + pluginName + \" pointerdown.\" + pluginName + \" MSPointerDown.\" + pluginName, function( a ){\n\t\t\t\t\ttargetTop = a.target.getBoundingClientRect().top;\n\t\t\t\t})\n\t\t\t\t.bind( \"focusin.\" + pluginName + \" touchend.\" + pluginName + \" click.\" + pluginName+ \" pointerup.\" + pluginName + \" MSPointerUp.\" + pluginName, function( a ){\n\t\t\t\t\tvar atype = a.originalEvent ? a.originalEvent.type : a.type;\n\t\t\t\t\tif( atype === \"touchend\" || atype === \"pointerup\" || atype === \"MSPointerUp\" ){\n\t\t\t\t\t\tif( targetTop && Math.abs( targetTop - a.target.getBoundingClientRect().top ) > 5 ){\n\t\t\t\t\t\t\ttouchCancel = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// if the event target is not in the collapsible, and the collapsible is expanded, and it's a menu presentation... collapse it!\n\t\t\t\t\tif( !$( a.target ).closest( e.target ).length &&\n\t\t\t\t\t\t!$( a.target ).closest( $trigger ).length &&\n\t\t\t\t\t\t!$collapsible.data( pluginName ).collapsed &&\n\t\t\t\t\t\tisMenu()  &&\n\t\t\t\t\t\ttouchCancel === false ){\n\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t$collapsible.data( pluginName ).collapse();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif( $( a.target ).closest( \"a,select,input,textarea,button,label\" ).length && !$( a.target ).closest( \".\" + pluginName + \"-header\" ).length ){\n\t\t\t\t\t\t\ta.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout( function(){\n\t\t\t\t\t\ttargetTop = null;\n\t\t\t\t\t\ttouchCancel = false;\n\t\t\t\t\t}, 200 );\n\t\t\t\t} );\n\n\t\t\t// hover behavior for collapsibles and triggers relies on the presence of data-collapsible-hover attr\n\t\t\t// the exclusive hover behavior requires a value of \"exclusive\"\n\t\t\tvar startedByTouch = false;\n\t\t\tvar hover = $collapsible.is( \"[data-collapsible-hover]\" );\n\t\t\tvar exclusiveHover = $collapsible.is( \"[data-collapsible-hover='exclusive']\" );\n\t\t\tvar mouseovertimestamp;\n\n\t\t\tif( hover ){\n\t\t\t\tif( exclusiveHover ){\n\t\t\t\t\tself.header.unbind( \"click tap\" );\n\t\t\t\t}\n\n\t\t\t\t$collapsible\n\t\t\t\t\t.add( $trigger )\n\t\t\t\t\t.bind( \"touchstart pointerdown MSPointerDown\", function( e ){\n\t\t\t\t\t\t// ignore hovers that begin with touch\n\t\t\t\t\t\tvar evt = e.originalEvent ? e.originalEvent : e;\n\t\t\t\t\t\tif( ( evt.type === \"pointerdown\" || evt.type === \"MSPointerDown\" ) && evt.pointerType && ( evt.pointerType === \"mouse\" || evt.pointerType === 4 ) ){\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstartedByTouch = true;\n\t\t\t\t\t} )\n\t\t\t\t\t// mouseover covers child collapsibles in a more friendly way than mouseleave\n\t\t\t\t\t.bind( \"mouseover.\" + pluginName, function( e ){\n\t\t\t\t\t\tmouseovertimestamp = new Date().getTime();\n\t\t\t\t\t\tif( !startedByTouch && isMenu() && $( e.target ).closest( self.header ).length ){\n\t\t\t\t\t\t\t$collapsible.data( pluginName ).expand();\n\t\t\t\t\t\t}\n\t\t\t\t\t} )\n\t\t\t\t\t.bind( \"mouseleave.\" + pluginName, function(){\n\t\t\t\t\t\tmouseovertimestamp = null;\n\t\t\t\t\t\tif( !startedByTouch && isMenu() && $( e.target ).is( $collapsible ) ){\n\t\t\t\t\t\t\t$collapsible.data( pluginName ).collapse();\n\t\t\t\t\t\t}\n\t\t\t\t\t} )\n\t\t\t\t\t// make hover menu header links click-through for mouse, though not for touch\n\t\t\t\t\t.bind( \"click\", function( e ){\n\t\t\t\t\t\tif( !mouseovertimestamp ){\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar timesincemouseover = new Date().getTime() - mouseovertimestamp;\n\n\t\t\t\t\t\tif( $( e.target ).is( self.header ) && isMenu() && $( e.target ).is( \"a[href]\" ) && !startedByTouch && timesincemouseover > 300 ){\n\t\t\t\t\t\t\twindow.location.href = e.target.href;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t$collapsible\n\t\t\t\t\t.bind( \"expand\", function(){\n\t\t\t\t\t\t$trigger.addClass( triggerExpand );\n\t\t\t\t\t} )\n\t\t\t\t\t.bind( \"collapse\", function(){\n\t\t\t\t\t\t$trigger.removeClass( triggerExpand );\n\t\t\t\t\t} );\n\t\t\t}\n\n\n\n\t\t\t// add keyboard/arrow handling\n\t\t\t// arrow method handles the arrow key navigation, which largely maps to the tab key within the component\n\t\t\tself.arrow = function( target, back ){\n\n\t\t\t\t// find all focusables in this collapsible content area\n\t\t\t\tvar $focusables = this.content.find( this.focusable );\n\t\t\t\t// nextTab will be the next element receiving focus from this arrow keydown\n\t\t\t\tvar nextTab;\n\n\t\t\t\t// if the keydown target is the header and it's down or right, focus on the first focusable\n\t\t\t\tif( $( target ).is( this.header ) && !back ){\n\t\t\t\t\tnextTab = $focusables[ 0 ];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// if it's a backward arrow, reverse the array\n\t\t\t\t\tif( back ){\n\t\t\t\t\t\t// this if can go away once https://github.com/filamentgroup/shoestring/issues/80 is fixed\n\t\t\t\t\t\t// check if already an array (shoestring with bug above)\n\t\t\t\t\t\tif( $focusables.reverse ){\n\t\t\t\t\t\t\t$focusables = $focusables.reverse();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// otherwisejquery will need a get()\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t$focusables = $( $focusables.get().reverse() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// afterTarget becomes true once the target has been passed in the each loop\n\t\t\t\t\tvar afterTarget = false;\n\t\t\t\t\t// loop focusables\n\t\t\t\t\t$focusables.each(function(){\n\t\t\t\t\t\t// if nextTab isn't defined yet, we're after the target in the loop, and the target appears to be displayed\n\t\t\t\t\t\t// NOTE: the offset checks replaced the following, which tied keyboard behavior to aria state:\n\t\t\t\t\t\t\t// !$( this ).closest( \".collapsible-collapsed .collapsible-content\" ).length\n\t\t\t\t\t\t\t// unfortunately, we sometimes display visually elements that are still aria-hidden.\n\t\t\t\t\t\t\t// The current check caters to sighted keyboard users over non-sighted keyboard users. TODO: figure this out.\n\t\t\t\t\t\tif( !nextTab && afterTarget && this.offsetHeight > 0 && this.offsetLeft > -1 ){\n\t\t\t\t\t\t\tnextTab = this;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// try to set afterTarget if not already set\n\t\t\t\t\t\tif( !afterTarget ) {\n\t\t\t\t\t\t\tafterTarget = $( this ).is( target );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// if we have a next element to send focus to at this point, do that. Otherwise, focus back on header\n\t\t\t\tif( nextTab ){\n\t\t\t\t\tnextTab.focus();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// no nextTab? focus back to header\n\t\t\t\t\tthis.header[ 0 ].focus();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// bind keydown handlers.\n\t\t\t// arrow key handling applies to the entire collapsible\n\t\t\tself.element\n\t\t\t\t.bind( \"keydown.\" + pluginName, function( e ){\n\t\t\t\t\t// arrow key behavior: collapsible must be expanded to accept arrow navigation\n\t\t\t\t\tif( !self.collapsed && isMenu() ){\n\t\t\t\t\t\tif( e.which === 39 || e.which === 40 ){\n\t\t\t\t\t\t\tself.arrow( e.target );\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if( e.which === 37 || e.which === 38 ){\n\t\t\t\t\t\t\tself.arrow( e.target, true );\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\n\n\n\n\t\t}\n\t} );\n\n})(jQuery, window, document);\n","/*\n\nVarious helper functions/handlers related to collapsibles on CloudBolt\n\n*/\n(function( $ ) {\n\n    \"use strict\";\n\n    var openClass = \"has-open-panel\",\n        $body = $( \"body\" );\n\n    // When we open a collapsible with a [data-collapsible-panel=\"true\"] attribute:\n    // 1. Attach a `class` to `body` to signal there’s an open “panel”, and\n    // 2. Close all other open collapsibles\n    $( \"[data-collapsible-panel='true']\" )\n        .bind( \"collapse\", function() {\n            $body.removeClass( openClass );\n        } )\n        .bind( \"expand\", function() {\n            $( \".collapsible-expanded\" ).not( $( this ) ).find( \".collapsible-header\" ).trigger( \"click\" );\n            $body.addClass( openClass );\n        } );\n\n    $( \".catalog-filters--title\" )\n        .bind( \"click\", function() {\n            var $panel = $( this ).parents( \".collapsible-expanded\" ),\n                $header = $panel.find( \".collapsible-header\" );\n\n            $header.trigger( \"click\" );\n            $body.removeClass( openClass );\n        } );\n\n    // When the viewport’s resized, close all open masthead menus and modals\n    $( window ).on( \"resize\", function() {\n        $( \".collapsible-expanded .collapsible-header\" ).trigger( \"click\" );\n    } );\n\n    // When the escape key is pressed, close all open modals\n    $( document ).keyup( function( e ) {\n        if ( e.keyCode === 27 ) {\n            $( \".collapsible-expanded .collapsible-header\" ).trigger( \"click\" );\n        }\n    } );\n\n}( jQuery ));\n","$( function() {\n    $( document ).trigger( \"enhance\" );\n} );"]}