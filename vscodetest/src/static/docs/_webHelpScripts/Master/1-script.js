function _$(n){if(document.querySelector)return document.querySelector(n);throw"document.querySelector is not supported";}function _$$(n){if(document.querySelectorAll)return document.querySelectorAll(n);throw"document.querySelectorAll is not supported";}function appendEventHandler(n,t,i,r,u){function f(n){i(n||window.event)}var f=i;if(typeof n.addEventListener=="function"){if(u?n.addEventListener(t,f,{passive:!0,capture:!1}):n.addEventListener(t,f,!1),r)return function(){n.removeEventListener(t,f,!1)}}else if(n.attachEvent&&(n.attachEvent("on"+t,f),r))return function(){n.detachEvent("on"+t,f)}}function stopBubbling(n){return n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),n.cancelBubble=!0,n.returnValue=!1,!1}function appendTouchGestureHandler(n,t,i,r){function f(n){xDown=n.touches?n.touches[0].clientX:n.clientX;yDown=n.touches?n.touches[0].clientY:n.clientY;xUp=xDown;yUp=yDown;u=setInterval(o,15,i,r)}function e(n){xUp=n.touches?n.touches[0].clientX:n.clientX;yUp=n.touches?n.touches[0].clientY:n.clientY}function o(n,t){if(xDown&&yDown){t||(t=0);var i=xDown-xUp,r=yDown-yUp;Math.abs(i)>Math.abs(r)?Math.abs(i)>t&&(i>0?n({dir:"left"}):n({dir:"right"}),xDown=null,yDown=null):Math.abs(r)>t&&(r>0,xDown=null,yDown=null)}}function s(){u&&(clearInterval(u),u=null)}var u=null;switch(t){case"swipe":appendEventHandler(n,"touchstart",f,!1,!0);appendEventHandler(n,"touchmove",function(n){e(n)},!1,!0);appendEventHandler(document.documentElement,"touchend",s,!1,!0);break;default:throw"Unknown touch gesture type!";}}function getMouseBtn(n){return n.which==null?n.button<2?"left":n.button==4?"middle":"right":n.which<2?"left":n.which==2?"middle":"right"}function guid(){function n(n){var t=(Math.random().toString(16)+"000000000").substr(2,8);return n?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return n()+n(!0)+n(!0)+n()}function isIgnoreCaseEqual(n,t){return n==t||n!=null&&t!=null&&n.toLowerCase()==t.toLowerCase()}function escapeMarkup(n){if(n){for(var t=0;t<markupEscapeCharsMapping.length;t++)n=n.replace(new RegExp(RegExp.escape(markupEscapeCharsMapping[t][0]),"g"),markupEscapeCharsMapping[t][1]);return n}return n}function unescapeMarkup(n){if(n){for(var t=markupEscapeCharsMapping.length-1;t>=0;t--)n=n.replace(new RegExp(RegExp.escape(markupEscapeCharsMapping[t][1]),"g"),markupEscapeCharsMapping[t][0]);return n}return n}function getDirectoryName(n,t){return t||(t="\\"),n.substr(0,n.lastIndexOf(t))}function getFileName(n){n=n.replace(new RegExp("/","g"),"\\");var t=n.lastIndexOf("\\");return n.substr(t>-1?t+1:0)}function getFileExtension(n){var t=n.lastIndexOf(".");return n.substr(t>-1?t+1:0)}function endNotWithPathSeparator(n){return n.length>0&&arrayContains(["/","\\"],n[n.length-1])?n.slice(0,-1):n}function getCurUrlParams(){return function(n){var r,t,i;if(n=="")return{};for(r={},t=0;t<n.length;++t)(i=n[t].split("="),i.length==2)&&(r[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")));return r}(window.location.search.substr(1).split("&"))}function toEllipsisString(n,t){return n?n.length<=t?n:n.substring(0,t-3)+"...":""}function toCamelCase(n){var i,r,t;for(n=n.replace(/[^a-zA-Z0-9]/g,"\t"),i=n.split("\t"),r="",t=0;t<i.length;t++)i[t]&&(r+=i[t][0].toUpperCase()+i[t].toLowerCase().substr(1,i[t].length-1));return r}function createCookie(n,t,i){var r,u;i?(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toGMTString()):u="";document.cookie=n+"="+t+u+"; path=/"}function readCookie(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null}function eraseCookie(n){createCookie(n,"",-1)}function arrayContains(n,t,i){for(var r=0;r<n.length;r++)if(i&&i(n[r],t)||n[r]==t)return!0;return!1}function arrayPushAll(n,t){for(var i=0;i<t.length;i++)n.push(t[i])}function isObjectEmpty(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}function removeDynamicLinks(n,t,i){var u,r;for(i||(i=document),u=i.getElementsByTagName(n?"script":"link"),r=u.length-1;r>=0;r--)u[r].id&&u[r].id.indexOf(t)>-1&&u[r].parentNode.removeChild(u[r])}function addDynamicLinks(n,t,i,r,u){var o,e,f;for(r||(r=document),i||(i=""),o=r.getElementsByTagName("head")[0],e=0;e<n.length;e++)f=null,t?(f=document.createElement("script"),f.setAttribute("type","text/javascript"),f.setAttribute("src",n[e]),f.setAttribute("id",i+"js"+e)):(f=document.createElement("link"),f.setAttribute("rel","stylesheet"),f.setAttribute("type","text/css"),f.setAttribute("href",n[e]),f.setAttribute("id",i+"css"+e)),u&&appendEventHandler(f,"load",u),o.appendChild(f)}function getStyleByName(n,t){var r=[],u=t?t:document,i,f;for(n.indexOf(".")!=0&&(n="."+n),i=0;i<u.styleSheets.length;i++){u.styleSheets[i].cssRules?r=u.styleSheets[i].cssRules:u.styleSheets[i].rules&&(r=u.styleSheets[i].rules);for(f in r)if(r[f].selectorText&&r[f].selectorText.toLowerCase()==n.toLowerCase())return r[f]}return null}function getElementByCustomCriteria(n,t,i){for(var f,u,o,e=document.getElementsByTagName(n.toLowerCase()),r=0;r<i.length;r++)i[r]=new RegExp("^"+RegExp.escape(i[r]).replace(/\\\*/g,".*")+"$","i");for(r=0;r<e.length;r++){for(f=0,u=0;u<t.length;u++)if(o=e[r].getAttribute(t[u]),i[u].test(o))f++;else break;if(f==t.length)return e[r]}return null}function getElementByPartOfId(n,t){for(var r=document.getElementsByTagName(n.toLowerCase()),i=0;i<r.length;i++)if(r[i].id.indexOf(t)>-1)return r[i];return null}function getElementByClassName(n,t){for(var r=document.getElementsByTagName(n.toLowerCase()),i=0;i<r.length;i++)if(r[i].className==t)return r[i];return null}function getElementsByPartOfClassName(n,t,i){var r,e;n=n?n:"*";var o=i?i:document,u=o.getElementsByTagName(n.toLowerCase()),f=[];for(r=0;r<u.length;r++)u[r].className&&typeof u[r].className.indexOf!=typeof getElementsByPartOfClassName&&(e=""),u[r].className&&u[r].className.indexOf&&u[r].className.indexOf(t)>-1&&f.push(u[r]);return f}function getStyleValue(n,t){var i;if(n.currentStyle)i=n.currentStyle[t];else if(window.getComputedStyle)var r=n.ownerDocument,u=r.defaultView||r.parentWindow,i=u.getComputedStyle(n,null).getPropertyValue(t);return i}function getHtmlElement(n){var t=n;return typeof n=="string"&&(t=window[n],null==t&&(t=document.getElementById(n))),n.GetMainElement!=null&&(t=n.GetMainElement()),t}function getIsChildOf(n,t){while(n!=null&&!isIgnoreCaseEqual(n.tagName,"body")){if(n==t)return!0;n=n.parentNode}return!1}function runOnChildren(n,t){if(n.nodeType==Node.ELEMENT_NODE){t(n);for(var i=0;i<n.children.length;i++)runOnChildren(n.children[i],t)}}function getMatchingParent(n,t,i){while(n!=null&&!isIgnoreCaseEqual(n.tagName,"body")){var r=t(n);if(r)return i?r:n;n=n.parentNode}return null}function getMatchingParentByQuery(n,t){return n.nodeType===Node.ELEMENT_NODE?n.closest(t):n.parentElement?n.parentElement.closest(t):null}function getClientWidth(n){if(!n)return 0;var t=getHtmlElement(n),i=parseInt(getStyleValue(t,"padding-left")),r=parseInt(getStyleValue(t,"padding-right"));return t.offsetWidth-(isNaN(parseInt(i))?0:i)-(isNaN(parseInt(r))?0:r)-getBordersWidth(n)}function getClientHeight(n){var t,i,r;return n?(t=getHtmlElement(n),t==document.documentElement)?document.documentElement.clientHeight:(i=parseInt(getStyleValue(t,"padding-top")),r=parseInt(getStyleValue(t,"padding-bottom")),t.offsetHeight-(isNaN(parseInt(i))?0:i)-(isNaN(parseInt(r))?0:r)-getBordersHeight(n)):0}function getBordersWidthRect(n){if(!n)return{top:0,left:0,right:0,bottom:0};var e=getHtmlElement(n),o=e.ownerDocument,s=o.defaultView||o.parentWindow,t=s.getComputedStyle(n,null),i=parseInt(t.getPropertyValue("border-top-width")),r=parseInt(t.getPropertyValue("border-left-width")),u=parseInt(t.getPropertyValue("border-right-width")),f=parseInt(t.getPropertyValue("border-bottom-width"));return isIgnoreCaseEqual(getStyleValue(e,"border-collapse"),"collapse")&&(i=isNaN(i)?0:i/2,r=isNaN(r)?0:r/2,u=isNaN(u)?0:u/2,f=isNaN(f)?0:f/2),{top:i,left:r,right:u,bottom:f}}function getBordersWidth(n){var t=getBordersWidthRect(n);return t.left+t.right}function getBordersHeight(n){var t=getBordersWidthRect(n);return t.top+t.bottom}function getPaddingsHeight(n){if(!n)return 0;var t=getHtmlElement(n),i=parseInt(getStyleValue(t,"padding-top")),r=parseInt(getStyleValue(t,"padding-bottom"));return(isNaN(parseInt(i))?0:i)+(isNaN(parseInt(r))?0:r)}function getPaddingsWidth(n){if(!n)return 0;var t=getHtmlElement(n),i=parseInt(getStyleValue(t,"padding-left")),r=parseInt(getStyleValue(t,"padding-right"));return(isNaN(parseInt(i))?0:i)+(isNaN(parseInt(r))?0:r)}function getMarginsHeight(n){if(!n)return 0;var t=getHtmlElement(n),i=parseInt(getStyleValue(t,"margin-top")),r=parseInt(getStyleValue(t,"margin-bottom"));return(isNaN(parseInt(i))?0:i)+(isNaN(parseInt(r))?0:r)}function getMarginsWidth(n){if(!n)return 0;var t=getHtmlElement(n),i=parseInt(getStyleValue(t,"margin-left")),r=parseInt(getStyleValue(t,"margin-right"));return(isNaN(parseInt(i))?0:i)+(isNaN(parseInt(r))?0:r)}function getAdjustedElementHeight(n,t,i){return getClientHeight(n)-(t?t.offsetHeight:0)-(i&&!isNaN(parseInt(i))?i:0)}function getOffset(n){for(var t=0,i=0;n&&!isNaN(parseInt(n.offsetLeft))&&!isNaN(parseInt(n.offsetTop));)t+=n.offsetLeft-n.scrollLeft,i+=n.offsetTop-n.scrollTop,n=n.offsetParent;return{top:i,left:t}}function getElementAbsPos(n){for(var t=0,i=0;n&&!isNaN(parseInt(n.offsetLeft))&&!isNaN(parseInt(n.offsetTop));)t+=n.offsetLeft-n.scrollLeft,i+=n.offsetTop-n.scrollTop,n=n.offsetParent;return[t,i]}function getIsAbsPos(n){var t=getStyleValue(n,"position");return t&&(t=t.toLowerCase()),t=="relative"||t=="absolute"||t=="fixed"||t=="sticky"?t:!1}function getIsOverflowVisibleX(n){var t=getStyleValue(n,"overflow"),i=getStyleValue(n,"overflow-x");return isIgnoreCaseEqual(t,"visible")||isIgnoreCaseEqual(i,"visible")}function getIsOverflowVisibleY(n){var t=getStyleValue(n,"overflow"),i=getStyleValue(n,"overflow-y");return isIgnoreCaseEqual(t,"visible")||isIgnoreCaseEqual(i,"visible")}function getNearestAbsParent(n){return getIsAbsPos(n.parentNode)||n.parentNode.nodeName.toLowerCase()=="body"?n.parentNode:getNearestAbsParent(n.parentNode)}function getElBoundingClientRect(n){var i=n.getBoundingClientRect(),t;return n.endContainer&&isIgnoreCaseEqual(JSON.stringify(new DOMRect),JSON.stringify(i))&&(t=document.createElement("span"),t.style.visibility="hidden",t.innerHTML="|",n.insertNode(t),i=t.getBoundingClientRect(),t.parentNode.removeChild(t)),i}function getElementPos(n,t,i){var r=0,u=0,i=t?document.documentElement:i?i:getNearestAbsParent(n),f=n.ownerDocument||n.startContainer.ownerDocument,c=i.ownerDocument||i.startContainer.ownerDocument,e,o,s,h;if(f!=c){if(e=f.defaultView||f.parentWindow,!e.frameElement)throw"Cannot calculate position: 'e' and 'pivotParent' are from different documents, but e's document is not a document of an iframe. This is not supported.";o=getElBoundingClientRect(n);n=e.frameElement;r=o.left;u=o.top}return s=getElBoundingClientRect(n),r+=s.left+window.pageXOffset,u+=s.top+window.pageYOffset,!t&&i&&(h=getElBoundingClientRect(i),r-=h.left+window.pageXOffset,u-=h.top+window.pageYOffset),[r,u]}function getScrollTop(n){return n||(n=window),n.pageYOffset?n.pageYOffset:n.scrollTop?n.scrollTop:0}function setScrollTop(n,t){t||(t=document);n=Math.max(0,n);t.body.scrollTop=n;t.documentElement.scrollTop=n}function getScrollHeight(n){return n||(n=document),Math.max(n.body.scrollHeight,n.body.offsetHeight,n.documentElement.clientHeight,n.documentElement.scrollHeight,n.documentElement.offsetHeight)}function getFirstScrollableParent(n){return n.scrollHeight>n.offsetHeight?n:n.parentNode==document.documentElement?document.body:getFirstScrollableParent(n.parentNode)}function getIsElementHiddenByParentOverflow(n){var t=getComputedStyle(n);return t.position==="fixed"?!1:!getIsElementsIntersect(n,getFirstScrollableParent(n))}function getWindowClientAreaWidth(n){return n||(n=window),isIos?n.screen.width:n.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function getWindowClientAreaHeight(n){return n||(n=window),isIos?n.screen.height:n.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function highlightEl(n,t){function u(){var n=_$("#"+t.hliterId);n&&(n.style.width="0",n.style.height="0",n.style.left="0",n.style.top="0",n.style.animation="none",n.style.webkitAnimation="none")}var i=_$("#"+t.hliterId),r;if(i||(i=document.createElement("div"),i.id=t.hliterId,i.className=t.hliterCssClass,t.hliterParentId?_$("#"+t.hliterParentId).appendChild(i):document.body.appendChild(i)),r=getElementPos(n,!0),i.style.left=r[0]+"px",i.style.top=r[1]+"px",i.style.width=n.offsetWidth+"px",i.style.height=n.offsetHeight+"px",i.style.animation="",i.style.webkitAnimation="",t.effectTimeout)setTimeout(function(){u()},t.effectTimeout);else return u}function textareaNoWrapAutoSize(n,t){var i=n.value.split(/\r|\n|\r\n|\n\r/);n.rows=t?Math.min(t,i.length):i.length}function getIsElementsIntersect(n,t){var i=getElementPos(n,!0),r=getElementPos(t,!0),u={top:i[1],right:i[0]+n.offsetWidth,bottom:i[1]+n.offsetHeight,left:i[0]},f={top:r[1],right:r[0]+t.offsetWidth,bottom:r[1]+t.offsetHeight,left:r[0]};return u.left<=f.right&&f.left<=u.right&&u.top<=f.bottom&&f.top<=u.bottom}function getIsElementInViewport(n,t){t||(t=window);var i=getElBoundingClientRect(n);return i.top>=0&&i.left>=0&&i.bottom<=getWindowClientAreaHeight()&&i.right<=getWindowClientAreaWidth()}function autosizeImgsAndVideos(){function n(n){for(var i,r,t=0;t<n.length;t++)if(!isIgnoreCaseEqual(n[t].getAttribute("data-ch-no-autosize"),"true")){(n[t].getAttribute("data-originalWidth")||n[t].getAttribute("data-originalWidth")=="")&&(n[t].style.width=n[t].getAttribute("data-originalWidth"),n[t].style.maxWidth=n[t].getAttribute("data-originalMaxWidth"),n[t].removeAttribute("data-originalWidth"),n[t].removeAttribute("data-originalMaxWidth"));(n[t].getAttribute("data-originalHeight")||n[t].getAttribute("data-originalHeight")=="")&&(n[t].style.height=n[t].getAttribute("data-originalHeight"),n[t].removeAttribute("data-originalHeight"));var u=getElementPos(n[t],!0),f=n[t].clientHeight/n[t].clientWidth,e=getWindowClientAreaWidth();u[0]+n[t].offsetWidth>e&&(n[t].setAttribute("data-originalWidth",n[t].style.width||(n[t].getAttribute("width")?n[t].getAttribute("width")+"px":"")),n[t].removeAttribute("width"),n[t].setAttribute("data-originalMaxWidth",n[t].style.maxWidth),n[t].style.width="100%",i=n[t].offsetWidth+getMarginsWidth(n[t])-getClientWidth(n[t]),r=Math.max(0,Math.min(document.documentElement.clientWidth-u[0]-i,n[t].offsetWidth-i)),n[t].style.maxWidth=r+"px",n[t].setAttribute("data-originalHeight",n[t].style.height||(n[t].getAttribute("height")?n[t].getAttribute("height")+"px":"")),n[t].removeAttribute("height"),n[t].style.height=r*f+"px")}}n(document.getElementsByTagName("img"));n(document.getElementsByTagName("iframe"));n(document.getElementsByTagName("embed"));n(document.getElementsByTagName("object"));n(document.getElementsByTagName("video"))}function sendRequest(n,t,i,r,u,f){function o(n,t){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(n,t,!0):typeof XDomainRequest!="undefined"?(i=new XDomainRequest,i.open(n,t)):i=null,i}typeof r=="undefined"&&(r=!0);var e=null;if(f){if(e=o(n,t),!e)throw new Error("CORS requests are not supported by your web browser.");}else e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return u&&(e.onreadystatechange=function(){this.readyState==4&&u(this)}),e.open(n,t,r),i&&(typeof i=="object"||typeof i==typeof[])&&(e.setRequestHeader("Content-type","application/json"),i=JSON.stringify(i)),e.send(i),e}function mergeOptions(n,t){function i(n,t,r){var f={},u;for(u in n)n.hasOwnProperty(u)&&(f[u]=t&&(Array.isArray(n[u])||Array.isArray(t[u]))&&t[u]!=null?t[u]:t&&("object"==typeof n[u]&&n[u]!=null||"object"==typeof t[u]&&t[u]!=null)?i(n[u],t[u],u=="cssClasses"):r?n[u]+(t&&t.hasOwnProperty(u)&&t[u]?" "+t[u]:""):(t&&t.hasOwnProperty(u)&&t[u]!=null?t:n)[u]);return f}return i(n,t,!1)}function copyToClipboard(n,t){var f,i,u,r;if(isIe){f="_hiddenCopyText_";i=document.getElementById(f);i||(i=document.createElement("textarea"),i.style.position="absolute",i.style.left="-9999px",i.style.top="0",i.id=f,i.setAttribute("aria-label","hiddenCopyText"),document.body.appendChild(i));i.textContent=n;u=document.activeElement;i.focus();i.select?i.select():i.setSelectionRange(0,i.value.length);try{r=document.execCommand("copy")}catch(e){r=!1}return t&&u&&typeof u.focus=="function"&&u.focus(),i.textContent="",r}try{r=window.navigator.clipboard.writeText(n)}catch(e){r=!1}return r}function lazyLoadFontAwesome(){function n(){CssHandler.removeElClass(document.body,"__ch_fa_loading");createCookie("fa-cached","1")}function t(){function t(n){var t=350,i=function(){var u,r,f;t-=1;u=document.createElement("canvas");u.width=20;u.height=20;r=u.getContext("2d");r.fillStyle="rgba(255,255,255,1.0)";r.fillRect(0,0,20,20);r.font='300 16pt "Font Awesome 5 Pro"';r.textAlign="center";r.fillStyle="rgba(0,0,0,1.0)";r.fillText("ï‘œ",10,18);f=r.getImageData(0,0,1,1).data;f[0]!==0&&f[1]!==0&&f[2]!==0?t>0?setTimeout(i,20):n(!1):typeof n=="function"&&n(!0)};i()}addDynamicLinks(["/Styles/CommonControls/FontAwesome/css/all.min-ignore.css"],!1,null,null,function(){if(window.FontFace){var i=new FontFace("'Font Awesome 5 Pro'","url(/Styles/CommonControls/FontAwesome/webfonts/fa-light-300.eot?#iefix) format('embedded-opentype'), url(/Styles/CommonControls/FontAwesome/webfonts/fa-light-300.woff2) format('woff2'), url(/Styles/CommonControls/FontAwesome/webfonts/fa-light-300.woff) format('woff'), url(/Styles/CommonControls/FontAwesome/webfonts/fa-light-300.ttf) format('truetype'), url(/Styles/CommonControls/FontAwesome/webfonts/fa-light-300.svg#fontawesome) format('svg')",{style:"normal",weight:300});i.load().then(n)["catch"](function(){console.warn("Font Awesome Light font file hasn't been loaded.")})}else t(function(){n()})})}CssHandler.addElClass(document.body,"__ch_fa_loading");readCookie("fa-cached")=="1"?t():appendEventHandler(window,"load",function(){t()})}function setAriaRoleToDxErrorImg(n){var t=n.GetErrorImage();t&&t.setAttribute("role","alert")}function parseHtml(n){var t=document.createElement("div");return t.innerHTML=n,t}function selectAllInElement(n){window.getSelection().selectAllChildren(n)}function insertHtmlAtCaret(n){var t,i,r,u;if(isIe){if(t=window.getSelection(),t.getRangeAt&&t.rangeCount){for(i=parseHtml(n),r=t.getRangeAt(0),r.deleteContents(),u=0;u<i.length;u++)r.insertNode(i);t.collapseToEnd()}}else document.execCommand("insertHTML",!1,n)}function CHTree(n,t,i,r){var f,u,e;t.isUseFontAwesomeIcons&&(t.templates||(t.templates={}),t.templates.nodeContent||(t.templates.nodeContent=t.fontAwesomeVersion!="4"?"<i class='fa-lg fa-fw {{_faIconCssClass}}'><\/i>{{T}}":"<i class='fa fa-lg fa-fw {{_faIconCssClass}}'><\/i>{{T}}"),t.cssClasses||(t.cssClasses={}),t.cssClasses.nodeContent||(t.cssClasses.nodeContent="CHTree_nodeContentFaIcons"));r&&(this.onNodeInit=r);this.opts=mergeOptions(CHTree.defaults,t);this.opts.fontAwesomeVersion=="4"&&(t.templates.backArrow||(this.opts.templates.backArrow="<i class='fa fa-angle-left'><\/i>"),t.templates.expandCollapseButton||(this.opts.templates.expandCollapseButton="<i class='fa fa-angle-right'><\/i>"));this.containerId=n;this.initHiddenInputs();this.setNodes(i,!0);f=document.getElementById(this.containerId);CssHandler.addElClass(f,this.opts.cssClasses.tree);this.opts.isExpandCollapseEffects&&CssHandler.addElClass(f,"CHTree_withExpandCollapseEffects");u=this;appendEventHandler(f,"click",function(n){u.onClick(n,u)});appendEventHandler(f,"keydown",function(n){u.onTreeKeyDown(n)});appendEventHandler(f,"dblclick",function(n){u.onDblClick(n,u)});switch(this.opts.mobileViewMode){case"always":this.setIsMobileView(!0);break;case"never":this.setIsMobileView(!1);break;default:e=function(){var n=document.documentElement.clientWidth;try{n=window.top.document.documentElement.clientWidth}catch(t){}u.setIsMobileView(n<u.opts.mobileViewWidthThreshold,!0)};this.removeResizeHandler=appendEventHandler(window,"resize",e,!0);e()}this.opts.focusedNodeId==""?i!=null&&(i.length>0&&!this.selAllId?this.setFocusedNode(i[0].id):i.length>1&&this.selAllId&&this.setFocusedNode(i[1].id)):this.nodes[this.opts.focusedNodeId]&&this.setFocusedNode(this.opts.focusedNodeId);this.setReadOnly(this.opts.isReadOnly);setTimeout(function(){if(u.opts.actionButtons.length&&!u.onActionButtonClick)throw"onActionButtonClick handler must be defined for CHTree in order for action buttons to work!";},0)}function PopupWindow(n){function i(n){var t=document.getElementsByTagName("body")[0],i;if(n.wnd.parentNode!=t){if(n.wnd.id)for(i=0;i<t.children.length;i++)if(t.children[i].id==n.wnd.id){t.removeChild(t.children[i]);break}t.appendChild(n.wnd)}}function r(n){function f(n,t,i,r){return getMatchingParent(r,function(r){return r==n||r==t||r==i})}function i(t,i,r){appendEventHandler(t,"keyup",function(t){(t.keyCode||t.which)==i&&setTimeout(function(){r.call(n)},0)})}for(var r,u=n.showAction.split("|"),t=0;t<u.length;t++)switch(u[t]){case"init":n.show();break;case"mouseover":case"click":appendEventHandler(n.target,u[t],function(){n.show.call(n)});break;case"enter":i(n.target,13,n.show);break;case"space":i(n.target,32,n.show)}for(r=n.hideAction.split("|"),t=0;t<r.length;t++)switch(r[t]){case"mouseout":function e(t){typeof t!="undefined"&&f(n.wnd,n.target,n.beak,t.relatedTarget||t.toElement)||n.hide.call(n,null)}appendEventHandler(n.wnd,"mouseout",e);n.target&&appendEventHandler(n.target,"mouseout",e);break;case"click":appendEventHandler(document.documentElement,"click",function(t){if(n.wnd&&!n.isDontHidePopupOnBodyClick){if(typeof t!="undefined"&&f(n.wnd,n.isDontHideOnTargetClick?n.target:null,n.beak,t.target||t.srcElement))return;n.hide.call(n,null)}});break;case"escape":i(n.target,27,n.hide);i(n.wnd,27,n.hide)}n.btnClose&&appendEventHandler(n.btnClose,"click",function(){n.hide.call(n,n.btnClose)})}function u(n){if(n.contentUrl&&n.iframe)if(appendEventHandler(window,"message",function(t){var i=null;try{i=JSON.parse(t.data)}catch(r){return}n.isAutoAdjustHeightForIframe&&i.clhFrameName&&i.clhFrameName==n.iframe.id&&(n.iframeContentHeight=i.height,n.show())}),appendEventHandler(n.iframe,"load",function(){n.hidePnlLoading()}),n.isDelayLoadIframeContent){var t=document.createElement("div");t.style.position="absolute";t.style.top="0";t.style.left="0";t.style.right="0";t.style.overflow="hidden";t.style.width="100%";t.style.textAlign="center";t.style.zIndex=n.zIndex+1;t.innerHTML=n.iframeLoadingText;n.wnd.appendChild(t);n.pnlLoading=t}else n.iframe.src=n.contentUrl}function f(n){var i,t,r;if(n.wnd.style.display="none",n.isRenderBeak&&!n.beak&&(n.beak=document.createElement("div"),n.beak.style.overflow="hidden",n.beak.style.display="none",i=n.getBeakSize(),n.beak.style.width=i[0]+"px",n.beak.style.height=i[1]+"px",n.wnd.parentNode.insertBefore(n.beak,n.wnd.nextSibling),t=document.createElement("div"),t.style.position="absolute",t.style.borderWidth="1px",t.style.borderStyle="solid",t.style.borderColor="#cdcdcd",t.style.width=-2+n.beakSize*Math.sqrt(2)+"px",t.style.height=-2+n.beakSize*Math.sqrt(2)+"px",t.style.backgroundColor="white",t.style.transformOrigin=t.style.webkitTransformOrigin="top left",t.className=n.beakCssClass?n.beakCssClass:"",n.beak.appendChild(t)),n.isEffectAppear&&(n.wnd.style.opacity="0",n.beak&&(n.beak.style.opacity=n.wnd.style.opacity)),n.isEffectExpand&&(n.wnd.style.transform=n.wnd.style.webkitTransform=n.getTranslateValue(),n.beak&&(n.beak.style.transform=n.beak.style.webkitTransform=n.wnd.style.transform)),this.iframe&&(n.wnd.style.overflow="hidden"),n.wnd.style.boxShadow=n.isAddShadow?"rgba(0,0,0,.7) 0 2px 25px":"",isIgnoreCaseEqual(n.position,"default")||(n.wnd.style.position="absolute",n.beak&&(n.beak.style.position="absolute")),n.wnd.style.zIndex=n.zIndex+(n.isModal?0:-1),n.beak&&(n.beak.style.zIndex=n.wnd.style.zIndex),n.isAllowDragging){r=n.dragTrigger?n.dragTrigger:n.wnd;r.style.cursor="move";function u(){n.isDragging=!1;n.pnlPopupOverlay.parentNode&&n.wnd.removeChild(n.pnlPopupOverlay);n.pnlBodyOverlay.parentNode&&document.documentElement.removeChild(n.pnlBodyOverlay)}function f(t){var i,r,u;n.isDragging&&(i=0,r=0,n.wnd.offsetParent&&(u=getElementPos(n.wnd.offsetParent,!0),i=u[0],r=u[1]),n.wnd.style.left=t.pageX-n.dragPoint[0]-i+"px",n.wnd.style.top=t.pageY-n.dragPoint[1]-r+"px")}function e(t){var r=t.srcElement||t.target,i;if(r&&r==n.btnClose)return!0;n.isDragging=!0;i=getElementPos(n.wnd,!0);n.dragPoint=[t.pageX-i[0],t.pageY-i[1]];n.pnlPopupOverlay=document.createElement("div");n.pnlPopupOverlay.style.position="absolute";n.pnlPopupOverlay.style.top=0;n.pnlPopupOverlay.style.bottom=0;n.pnlPopupOverlay.style.left=0;n.pnlPopupOverlay.style.right=0;n.pnlPopupOverlay.style.cursor="move";n.wnd.appendChild(n.pnlPopupOverlay);appendEventHandler(n.pnlPopupOverlay,"mousemove",f);appendEventHandler(n.pnlPopupOverlay,"mouseup",u);n.pnlBodyOverlay=document.createElement("div");n.pnlBodyOverlay.style.position="absolute";n.pnlBodyOverlay.style.top=0;n.pnlBodyOverlay.style.bottom=0;n.pnlBodyOverlay.style.left=0;n.pnlBodyOverlay.style.right=0;n.pnlBodyOverlay.style.cursor="move";document.documentElement.appendChild(n.pnlBodyOverlay);appendEventHandler(n.pnlBodyOverlay,"mousemove",f);appendEventHandler(n.pnlBodyOverlay,"mouseup",u)}appendEventHandler(r,"mousedown",e)}}function e(n){appendEventHandler(window,"resize",function(){n.adjustSize()})}function t(n,t,i){var u,r;if(!n)return i;for(u=n.toLowerCase().split("|"),r=0;r<u.length;r++)if(!arrayContains(t,u[r]))return console.warn("Failed to initialize PopupWindow: invalid show/hide action type specified: '"+n+"'. Resetting to the default action type of '"+i+"'."),i;return n}if(PopupWindow.prototype.getIsHorizontalAlign=function(){switch(this.position.toLowerCase()){case"left":case"right":return!0;default:return!1}},PopupWindow.prototype.getBeakSize=function(){return[this.beak?this.beakSize*(this.getIsHorizontalAlign()?1:2):0,this.beak?this.beakSize*(this.getIsHorizontalAlign()?2:1):0]},PopupWindow.prototype.getTranslateValue=function(){var n=-1,t="Y";return this.fixedPosition&&typeof this.fixedPosition.top!="undefined"||!this.fixedPosition&&(isIgnoreCaseEqual(this.position,"bottom")||isIgnoreCaseEqual(this.position,"center"))?(n=-1,t="Y"):this.fixedPosition&&typeof this.fixedPosition.bottom!="undefined"||!this.fixedPosition&&isIgnoreCaseEqual(this.position,"top")?(n=1,t="Y"):this.fixedPosition&&typeof this.fixedPosition.left!="undefined"||!this.fixedPosition&&isIgnoreCaseEqual(this.position,"right")?(n=-1,t="X"):(this.fixedPosition&&typeof this.fixedPosition.right!="undefined"||!this.fixedPosition&&isIgnoreCaseEqual(this.position,"left"))&&(n=1,t="X"),this.isInvertExpandEffectDir&&(n=n*-1),"translate"+t+"("+50*n+"px)"},this.onShowing=n.onShowing,this.onShown=n.onShown,this.onHiding=n.onHiding,this.wnd=n.wnd?n.wnd:document.getElementById(n.wndId),!this.wnd)return window.console&&console.warn("Failed to initialize PopupWindow: window element not found. Expected element ID is: '"+n.wndId+"'"),null;this.target=n.target?n.target:null;!this.target&&n.targetId&&(this.target=document.getElementById(n.targetId));this.targetCoordinatesEvalType=typeof n.targetCoordinatesEvalType!="undefined"?n.targetCoordinatesEvalType:PopupWindow.defaults.targetCoordinatesEvalType;this.position=!n.position||!arrayContains(["left","right","top","bottom","center","default"],n.position.toLowerCase())?"center":n.position.toLowerCase();this.showAction=t(n.showAction,["mouseover","click","init","space","enter","none"],PopupWindow.defaults.showAction);this.hideAction=t(n.hideAction,["mouseout","click","escape","none"],PopupWindow.defaults.hideAction);this.isDontHideOnTargetClick=typeof n.isDontHideOnTargetClick=="undefined"?PopupWindow.defaults.isDontHideOnTargetClick:n.isDontHideOnTargetClick;this.isAllowDragging=typeof n.isAllowDragging!="undefined"?n.isAllowDragging&&this.hideAction=="none":PopupWindow.defaults.isAllowDragging;this.dragTrigger=n.dragTrigger;!this.dragTrigger&&n.dragTriggerId&&(this.dragTrigger=document.getElementById(n.dragTriggerId));this.beginWindowMeasurement();this.width=n.width&&!isNaN(n.width)?n.width:this.wnd.offsetWidth>0?getClientWidth(this.wnd):PopupWindow.defaults.width;this.height=n.height&&!isNaN(n.height)?n.height:this.wnd.offsetHeight>0?getClientHeight(this.wnd):PopupWindow.defaults.height;this.endWindowMeasurement();this.relOffset=n.relOffset?n.relOffset:PopupWindow.defaults.relOffset;this.fixedPosition=n.fixedPosition?n.fixedPosition:PopupWindow.defaults.fixedPosition;this.btnClose=n.btnClose;!this.btnClose&&n.btnCloseId&&(this.btnClose=document.getElementById(n.btnCloseId));this.isAddShadow=typeof n.isAddShadow=="undefined"?PopupWindow.defaults.isAddShadow:n.isAddShadow;this.isEffectExpand=typeof n.isEffectExpand=="undefined"?PopupWindow.defaults.isEffectExpand:n.isEffectExpand;this.isEffectAppear=typeof n.isEffectAppear=="undefined"?PopupWindow.defaults.isEffectAppear:n.isEffectAppear;this.isInvertExpandEffectDir=typeof n.isInvertExpandEffectDir=="undefined"?PopupWindow.defaults.isInvertExpandEffectDir:n.isInvertExpandEffectDir;this.effectsTimeout=typeof n.effectsTimeout=="undefined"?PopupWindow.defaults.effectsTimeout:n.effectsTimeout;this.isModal=typeof n.isModal=="undefined"?PopupWindow.defaults.isModal:n.isModal;this.iframe=n.iframe;!this.iframe&&n.iframeId&&(this.iframe=document.getElementById(n.iframeId));this.iframeLoadingText=n.iframeLoadingText?n.iframeLoadingText:PopupWindow.defaults.iframeLoadingText;this.contentUrl=n.contentUrl?n.contentUrl:PopupWindow.defaults.contentUrl;this.isDelayLoadIframeContent=typeof n.isDelayLoadIframeContent!="undefined"?n.isDelayLoadIframeContent:!1;this.isAutoAdjustHeightForIframe=!n.height;this.zIndex=typeof n.zIndex=="undefined"?PopupWindow.defaults.zIndex:n.zIndex;this.isEnableResponsiveResize=typeof n.isEnableResponsiveResize=="undefined"?PopupWindow.defaults.isEnableResponsiveResize:n.isEnableResponsiveResize;this.responsiveResizeMaxWidth=n.responsiveResizeMaxWidth&&!isNaN(n.responsiveResizeMaxWidth)?n.responsiveResizeMaxWidth:this.width;this.responsiveResizeMaxHeight=n.responsiveResizeMaxHeight&&!isNaN(n.responsiveResizeMaxWidth)?n.responsiveResizeMaxHeight:this.height;this.responsiveResizedEl=n.responsiveResizedElId?document.getElementById(n.responsiveResizedElId):n.responsiveResizedEl;this.responsiveResizedElHeight=n.responsiveResizedElHeight&&!isNaN(n.responsiveResizedElHeight)?n.responsiveResizedElHeight:0;this.isMoveToBodyChildLevel=typeof n.isMoveToBodyChildLevel=="undefined"?PopupWindow.defaults.isMoveToBodyChildLevel:n.isMoveToBodyChildLevel;this.beakSize=n.beakSize?n.beakSize:PopupWindow.defaults.beakSize;this.beakCssClass=n.beakCssClass?n.beakCssClass:PopupWindow.defaults.beakCssClass;this.isRenderBeak=typeof n.isRenderBeak=="undefined"?PopupWindow.defaults.isRenderBeak:n.isRenderBeak;this.isRenderBeak&&!arrayContains(["left","right","top","bottom"],this.position)&&(this.isRenderBeak=!1);this.isMoveToBodyChildLevel&&i(this);f(this);u(this);r(this);this.isEnableResponsiveResize&&e(this)}function CHMenu(n,t,i){this.noUrlAddress="javascript:void(0)";this.isInitialized=!1;t&&t.isUseFontAwesomeIcons&&(t.templates||(t.templates={}),t.templates.itemContent||(t.templates.itemContent=t.fontAwesomeVersion=="4"?"<a href='{{_url}}' target='{{_target}}' title='{{_toolTip}}' aria-label='{{_ariaLabel}}'><i class='fa fa-lg {{_faIconCssClass}}'><\/i>{{T}}<\/a>":"<a href='{{_url}}' target='{{_target}}' title='{{_toolTip}}' aria-label='{{_ariaLabel}}'><i class='fa-lg {{_faIconCssClass}}'><\/i>{{T}}<\/a>"));this.opts=mergeOptions(CHMenu.defaults,t);this.opts.fontAwesomeVersion!="4"||t.templates.dropDownArrow||(this.opts.templates.dropDownArrow="<i class='fa fa-angle-down'><\/i>");this.items={};this.items[""]={id:"",c:i};this.initItems(i);this.containerId=n;this.selectedItemId=this.opts.selectedItemId;var u=document.getElementById(this.containerId),r=this;appendEventHandler(document.documentElement,"click",function(){r.isDontHidePopupOnBodyClick||r.hidePopup()});appendEventHandler(window,"resize",function(){setTimeout(function(){r.onWindowResize()},0)});appendEventHandler(window,"load",function(){setTimeout(function(){r.onWindowResize()},0)});document.getElementById(this.containerId)&&(this.isDeferLayoutEvents=!0,r.onWindowResize())}function CHOffCanvasPanel(n,t,i,r){function f(n,t){if(n instanceof Array)for(var i=0;i<n.length;i++)appendEventHandler(document.getElementById(n[i]),"click",t);else appendEventHandler(document.getElementById(n),"click",t)}var u=this;f(t,function(){u.switchState()});f(i,function(){u.switchState()});this.pnlContainerName=n;this.menuButtons=t;appendTouchGestureHandler(document.getElementById(r),"swipe",function(n){n.dir=="left"&&u.switchState()},30)}function adjustBaseMasterContainerSize(){var t=document.getElementById("pnlContentContainer"),r=document.getElementById("pnlMainMenuContainer"),i,n;t.style.height=document.documentElement.clientHeight-r.offsetHeight-getMarginsHeight(t)+"px";i=document.getElementById("pnlTopicHeader");n=document.getElementById("pnlTopicContentContainer");n.style.height=t.offsetHeight-i.offsetHeight-(n.offsetHeight-getClientHeight(n))+"px"}function webHelpPrint(){var n=window.open();n.document.write("<!DOCTYPE html><html><head>"+document.getElementsByTagName("head")[0].innerHTML+"<\/head><body onload='window.print()' class='TopicViewer_contentContainer'>"+_$("#pnlTopicContentContainer").innerHTML+"<\/body><\/html>");n.document.close();n.focus()}function webHelpInit(){function i(n){if(window.addthis){var r=location.href,t={url:r,title:document.title};addthis.toolbox("#pnlSocial",{},t);addthis.counter(".addthis_counter",{},t)}else n&&addDynamicLinks([n],!0,null,null,i)}var n,t;webHelpInitToc();appendEventHandler(window,"message",function(n){if(n.data){var t=null;try{t=JSON.parse(n.data)}catch(i){return}t.ch_nav&&(window.location.href=t.ch_nav.replace(/^#?[^/]+\//,"")+".html")}});n=window.location.protocol=="file:";addThisScriptUrl&&!n&&i(addThisScriptUrl);t=document.getElementById("pnlSocial");n&&t&&(t.style.display="none");appendEventHandler(window,"resize",adjustBaseMasterContainerSize);adjustBaseMasterContainerSize();appendEventHandler(document.getElementById("btnPrint"),"click",webHelpPrint);appendEventHandler(document.getElementById("edtSearch"),"keydown",webHelpMasterPageSearchBoxKeydown);appendEventHandler(document.getElementById("btnSearch"),"click",webHelpMasterPageSearchBoxBtnSearchClick);window.webHelpOffCanvasPanel=new CHOffCanvasPanel("pnlContainer",["btnMobileMenu"],"pnlOffCanvasOverlay","pnlOffCanvasNav")}function webHelpTocFocusedNodeChanging(n,t){var i=n.getNode(t.newId);if(i.vals.e){window.location.href=webHelpTopicUrlTemplate.replace(/{{externalId}}/g,i.vals.e);return}n.getIsMobileView()?i.vals.f&&n.expandNode(i.id):t.isSwitchNodeState&&(i.e?n.collapseNode(i.id):n.expandNode(i.id))}function webHelpTocNodeClick(){}function webHelpSelectTocNodeByExtId(n,t){var r=tocTree.getNodeByVal("e",n),i,u,f;r&&(tocTree.setFocusedNode(r.id,!0,!0),tocTree.setExpandCollapseEffectsEnabled(!0),t&&tocTree.expandNode(r.id));i=window.location.hash.replace("#","");i&&(u=document.getElementById(i),u?u.scrollIntoView():(f=document.getElementsByName(i),f.length>0&&f[0].scrollIntoView()))}function webHelpNavMenuItemClick(n,t){webHelpOpenTab(t.item.id)}function webHelpMobileMenuItemClick(n,t){var i=document.getElementById("pnlArticlesNav");switch(t.item.id){case"menuItemMenu":i&&(i.style.display="none");document.getElementById("pnlMainMenu").style.display="";break;case"tabContents":case"tabIndex":case"tabSearch":i&&(i.style.display="");document.getElementById("pnlMainMenu").style.display="none";webHelpOpenTab(t.item.id)}}function webHelpMasterPageSearchBoxKeydown(n){var t=n.charCode?n.charCode:n.keyCode;t==13&&(window.navMenu.setSelectedItem("tabSearch"),webHelpOpenTab("tabSearch",document.getElementById("edtSearch").value),stopBubbling(n))}function webHelpMasterPageSearchBoxBtnSearchClick(n){window.navMenu.setSelectedItem("tabSearch");webHelpOpenTab("tabSearch",document.getElementById("edtSearch").value);stopBubbling(n)}function webHelpMasterPageMainMenuViewSwitched(n,t){var f=document.getElementById("pnlOffCanvasContent"),s=document.getElementById("pnlMainMenuContainer"),r=document.getElementById("pnlMainMenu"),i,e,o,u;t.isMobileView&&r.parentNode!=f?f.appendChild(r):t.isMobileView||r.parentNode==s||s.appendChild(r);i=document.getElementById("pnlArticlesNav");e=document.getElementById("pnlContentContainer");t.isMobileView&&i.parentNode!=f?f.appendChild(i):t.isMobileView||i.parentNode==e||e.insertBefore(i,e.children[0]);i.style.display="";webHelpOpenTab("tabContents");mobileMenu.setSelectedItem("tabContents");navMenu.setSelectedItem("tabContents");r.style.display=i&&t.isMobileView?"none":"";!t.isMobileView&&window.webHelpOffCanvasPanel&&window.webHelpOffCanvasPanel.hide();document.getElementById("btnMobileMenu").style.display=t.isMobileView?"":"none";o=" WebHelp_containerMobile";u=document.getElementById("pnlContainer");t.isMobileView&&u.className.indexOf(o)<0?u.className+=o:t.isMobileView||(u.className=u.className.replace(new RegExp(o,"g"),""));adjustBaseMasterContainerSize()}function webHelpOpenTab(n,t){var u=document.getElementById("pnlTocContainer"),i=document.getElementById("pnlIndex"),r=document.getElementById("pnlSearch");u.style.display=n=="tabContents"?"":"none";i.style.display=n=="tabIndex"?"":"none";r.style.display=n=="tabSearch"?"":"none";switch(n){case"tabIndex":i.children[0].src||(i.children[0].src="../keywords.html");break;case"tabSearch":r.children[0].src="../search.html"+(t?"?q="+encodeURIComponent(t):"")}}var markupEscapeCharsMapping;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});window.getComputedStyle||(window.getComputedStyle=function(n){return this.el=n,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return t=="float"&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),n.currentStyle[t]?n.currentStyle[t]:null},this}),function(){var n=function(n){var t=this;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null};window.Element?(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=n)):(Object.prototype.matches||(Object.prototype.matches=Object.prototype.msMatchesSelector||Object.prototype.webkitMatchesSelector),Object.prototype.closest||(Object.prototype.closest=n))}();var xDown=null,yDown=null,xUp=null,yUp=null,isIe=navigator.appVersion.toLowerCase().indexOf("msie")>-1||Object.hasOwnProperty.call(window,"ActiveXObject")&&!window.ActiveXObject,isEdge=/Edge/.test(navigator.userAgent),isIos=(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream,isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isSafari=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")==-1&&navigator.userAgent.indexOf("FxiOS")==-1;RegExp.escape=function(n){return n.replace(/[[\]{}()*+?\.,\\^$|#]/g,"\\$&")};String.prototype.charCount=function(n){var t=this.match(new RegExp(RegExp.escape(n),"g"));return t==null?0:t.length};markupEscapeCharsMapping=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"]],function(){function n(){}window.PlainTextRetriever||(n.prototype.getPlainTextFromHtml=function(n,t){return n?(t&&(n=n.replace(/<br\s*\/?>/gi,"\r\n")),n.replace(/<[^>]*>/g,"")):n},window.PlainTextRetriever=new n)}(),function(){function n(){}window.CssHandler||(n.prototype.extraClassMask="(\\s+|^){0}(\\s+|$)",n.prototype.addElClass=function(n,t){n.className=this.addClass(n.className,t)},n.prototype.getIsHasClass=function(n,t){return new RegExp(this.extraClassMask.replace("{0}",RegExp.escape(t)),"i").test(n)},n.prototype.getIsElHasClass=function(n,t){return this.getIsHasClass(n.className,t)},n.prototype.switchElClass=function(n,t,i){typeof i=="undefined"&&(i=!this.getIsHasClass(n.className,t));n.className=this.switchClass(n.className,t,i)},n.prototype.switchClass=function(n,t,i){return typeof i=="undefined"&&(i=!this.getIsHasClass(n,t)),i?this.addClass(n,t):this.removeClass(n,t)},n.prototype.addClass=function(n,t){return n||(n=""),this.getIsHasClass(n,t)||(n+=(n?" ":"")+t),n},n.prototype.removeClass=function(n,t,i){return n||(n=""),n.replace(new RegExp(this.extraClassMask.replace("{0}",i?t:RegExp.escape(t)),"gi")," ").replace(" {2,}"," ").trim()},n.prototype.removeElClass=function(n,t){n.className=this.removeClass(n.className,t);!n.className&&n.removeAttribute&&n.removeAttribute("class")},window.CssHandler=new n)}();CHTree.defaults={expandLevels:0,maxLevel:0,isSubmitExpandedNodesToServer:!1,isReadOnly:!1,isHighlightFocusedNode:!0,isExpandCollapseEffects:!0,isUseFontAwesomeIcons:!1,fontAwesomeVersion:"",isEscapeNodeText:!0,isDragAndDrop:!1,nodeBtnPosition:"left",multiSelectMode:"",focusedNodeId:"",mobileViewWidthThreshold:979,mobileViewMode:"",delayLoadServiceUrl:null,expandCollapseEffectsTimeout:500,templates:{nodeContent:"{{T}}",backArrow:"<i class='fal fa-angle-left'><\/i>",expandCollapseButton:"<i class='fal fa-angle-right'><\/i>"},cssClasses:{tree:"CHTree_tree",mobileView:"CHTree_mobileView",desktopView:"CHTree_desktopView",treeDisabled:"CHTree_disabled",node:"CHTree_node",nodeLevelN:"CHTree_nodeL{{LEVEL}}",nodeContainer:"CHTree_nodeContainer",nodeBack:"CHTree_nodeBack",nodeDelayLoadTrigger:"CHTree_nodeDelayLoadTrigger",nodeDelayLoadLoading:"CHTree_nodeDelayLoadLoading",nodeBtn:"CHTree_btn",nodeSelect:"CHTree_select",nodeContent:"CHTree_nodeContent",nodeContentDisabled:"CHTree_nodeContentDisabled",btnExpand:"CHTree_nodeBtnExpand",btnCollapse:"CHTree_nodeBtnCollapse",nodeChildren:"CHTree_nodeChildren",nodeChildrenOfHiddenNode:"CHTree_nodeChildrenOfHiddenNode",nodeChildrenExpanded:"CHTree_nodeChildrenExpanded",nodeChildrenCollapsed:"CHTree_nodeChildrenCollapsed",nodeChildrenLevelN:"CHTree_nodeChildrenL{{LEVEL}}",nodeSelectAll:"CHTree_nodeSelectAll",nodeFocused:"CHTree_nodeFocused",nodeUnfocusable:"CHTree_nodeUnfocusable",nodeContentExpanded:"CHTree_nodeContentExpanded",nodeContentCollapsed:"CHTree_nodeContentCollapsed",nodeContentWithoutChildren:"CHTree_nodeContentWithoutChildren",dndDropTarget:"CHTree_nodeContentDropTarget",dndDropTargetBefore:"CHTree_nodeContentDropTargetBefore",dndDropTargetAfter:"CHTree_nodeContentDropTargetAfter",dndDragHint:"CHTree_nodeContentDragHint",dndDraggingMode:"CHTree_draggingMode",dndDragOver:"CHTree_dragOver",dndDragSrc:"CHTree_dragSrc",dndDragSrcChildren:"CHTree_dragSrcChildren",actionButtonsContainer:"CHTree_actionButtonsContainer",actionButton:"CHTree_actionButton"},text:{selectAllNode:"(Select All)",delayLoadTriggerNode:"Click to load all {{CHILD_COUNT}} child items...",delayLoadLoadingNode:"Loading...",back:"back",dragHint:"Drag the node to change its position",errorCannotMoveChildOfItself:"Cannot change parent for the item. The item cannot become a child for itself.",errorCannotMoveMaxHierarchyLevelN:"Cannot change parent for the item. The maximum level of hierarchy allowed is {0}.",errorCannotAddMaxHierarchyLevelN:"Cannot add a new item. The maximum level of hierarchy allowed is {0}.",errorCannotAddSameId:"Cannot add a new item. An item with the same ID already exists.",expandNode:"Expand node",collapseNode:"Collapse node"},actionButtons:[]};CHTree.prototype.removeResizeHandler=function(){};CHTree.prototype.showError=function(n){alert(n)};CHTree.prototype.initHiddenInputs=function(){function n(n,t,i){var f=document.getElementById(n),u=n+"_"+t,r=document.createElement("input");return r.type="hidden",r.name=r.id=u,r.value=i,f.appendChild(r),u}this.hiDisabledNodesId=n(this.containerId,"hiDisabledNodes",this.getNodeIdsWithEnabledState(!1).join("\t"));this.hiSelectedNodesId=n(this.containerId,"hiSelectedNodes",this.getSelectedNodeIds().join("\t"));this.hiFocusedNodeId=n(this.containerId,"hiFocusedNode",this.getFocusedNodeId());this.opts.isSubmitExpandedNodesToServer&&(this.hiExpandedNodesId=n(this.containerId,"hiExpandedNodes",this.getExpandedNodeIds().join("\t")));this.opts.delayLoadServiceUrl&&(this.hiLoadedNodesId=n(this.containerId,"hiLoadedNodes",this.getAllNodeIds().join("\t")))};CHTree.prototype.rerender=function(n){var t=document.getElementById(this.containerId),r,i,u;for(this.getIsMobileView()?(CssHandler.removeElClass(t,this.opts.cssClasses.desktopView),CssHandler.addElClass(t,this.opts.cssClasses.mobileView)):(CssHandler.removeElClass(t,this.opts.cssClasses.mobileView),CssHandler.addElClass(t,this.opts.cssClasses.desktopView));t.firstChild;)t.removeChild(t.firstChild);if(!n)for(r in this.childrenPanels)r!==""&&(this.nodes[r].e=0);this.childrenPanels=null;this.nodePanels=null;this.initHiddenInputs();i=this.getReadOnlyOverlayPanel();i||(i=document.createElement("div"),i.id=this.containerId+"_pnlReadOnly",i.className=this.opts.cssClasses.treeDisabled,t.appendChild(i));this.updateNode("",!0);this.opts.expandLevels==0||this.getIsMobileView()||this.expandLevels(this.opts.expandLevels);this.isChangingView=!0;u=this.getFocusedNodeId();this.setFocusedNode(u?u:this.nodes[""].c.length?this.nodes[""].c[0].id:null);this.isChangingView=!1;this.setReadOnly(this.getIsReadOnly())};CHTree.prototype.setIsMobileView=function(n){var t=this.isMobileView!=n;this.isMobileView=n;t&&this.rerender()};CHTree.prototype.getIsMobileView=function(){return this.isMobileView};CHTree.prototype.getReadOnlyOverlayPanel=function(){return _$("#"+this.containerId+"_pnlReadOnly")};CHTree.prototype.getChildrenPanelCssClass=function(n){var t=[this.opts.cssClasses.nodeChildren];return t.push(this.opts.cssClasses.nodeChildrenLevelN.replace(/{{LEVEL}}/g,this.getNodeLevel(n.id))),t.push(n.e==1?this.opts.cssClasses.nodeChildrenExpanded:this.opts.cssClasses.nodeChildrenCollapsed),!n.isHidden||t.push(this.opts.cssClasses.nodeChildrenOfHiddenNode),t.join(" ")};CHTree.prototype.getChildrenPanel=function(n){return this.childrenPanels?this.childrenPanels[n]:null};CHTree.prototype.removeChildrenPanel=function(n){var t=this.getChildrenPanel(n);t&&t.parentNode&&t.parentNode.removeChild(t);this.childrenPanels[n]=null};CHTree.prototype.getNodeContainerPanel=function(n){var t=this.getNodePanel(n);return t?t.parentNode:null};CHTree.prototype.getNodePanel=function(n){return this.nodePanels?this.nodePanels[n]:null};CHTree.prototype.getNodeContentPanel=function(n){var i=this.getNodePanel(n),t;if(i)for(t=0;t<i.children.length;t++)if(CssHandler.getIsElHasClass(i.children[t],this.opts.cssClasses.nodeContent))return i.children[t];return null};CHTree.prototype.getEffectiveEl=function(n){if(!n)return null;for(var t=document.getElementsByTagName("body")[0];(!n.getAttribute||!n.getAttribute("data-node-id"))&&n.parentNode&&n!=document.getElementById(this.containerId)&&n!=t;)n=n.parentNode;return n.getAttribute("data-node-id")?n:null};CHTree.prototype.getNodeId=function(n){var t=this.getEffectiveEl(n);return t?t.getAttribute("data-node-id"):null};CHTree.prototype.updateNode=function(n,t,i){function nt(n){return res=document.createElement("a"),res.setAttribute("data-node-id",n.id),res.href=n.vals._url&&!n.d?n.vals._url:"javascript:void(0)",n.vals._target&&(res.target=n.vals._target),n.vals._toolTip&&(res.title=n.vals._toolTip),n.vals._rel&&(res.rel=n.vals._rel),res.className=this.opts.cssClasses.node,res}function ot(n){var t=[this.opts.cssClasses.node];return this.opts.isHighlightFocusedNode&&n.id==this.focusedNodeId&&t.push(this.opts.cssClasses.nodeFocused),n.vals._customCssClass&&t.push(n.vals._customCssClass),n.vals._isNoFocus&&t.push(this.opts.cssClasses.nodeUnfocusable),n.id==this.selAllId&&t.push(this.opts.cssClasses.nodeSelectAll),t.push(this.opts.cssClasses.nodeLevelN.replace(/{{LEVEL}}/g,this.getNodeLevel(n.id))),t.join(" ")}function st(n){return this.opts.cssClasses.nodeContent+(n.d==1?" "+this.opts.cssClasses.nodeContentDisabled:"")}function tt(n){var t=document.createElement("div");return n.appendChild(t),t}function it(n){var t,i,r;return this.childrenPanels||(this.childrenPanels={}),t=document.createElement("ul"),t.className=this.getChildrenPanelCssClass(n),this.getIsMobileView()&&n.id!==""&&(i=nt.call(this,n),i.className+=" "+this.opts.cssClasses.nodeBack,r=tt.call(this,i),r.className=this.opts.cssClasses.nodeContent,r.innerHTML=this.opts.templates.backArrow+"  "+this.opts.text.back,t.appendChild(rt(i))),this.childrenPanels[n.id]=t,t}function rt(n){var t=document.createElement("li");return t.appendChild(n),t.className=o.opts.cssClasses.nodeContainer,t}function ut(n,t,i){return i||(i=document.createElement("div"),n.c&&n.c.length>0&&(i.tabIndex=0,i.setAttribute("role","button")),t.appendChild(i)),i.className=o.opts.cssClasses.nodeBtn,i}var o=this,r=this.nodes[n],h,u,y,c,l,a,b,k,d,g,p,w,f,v,ft,et;if(n===""){t&&(h=this.getChildrenPanel(n),h||(h=it.call(this,r),document.getElementById(this.containerId).appendChild(h)),this.updateChildNodes("",!0));return}if(this.onNodeInit&&n&&n!=this.selAllId)this.onNodeInit(this,{node:r});i&&this.getNodeContainerPanel(r.id)&&this.getNodePanel(r.id)&&(this.getNodeContainerPanel(r.id).removeChild(this.getNodePanel(r.id)),this.nodePanels[r.id]=null);u=this.getNodePanel(n);u||(u=nt.call(this,r),this.opts.isDragAndDrop?(u.setAttribute("draggable","true"),o=this,appendEventHandler(u,"dragstart",function(n){o.onDragStart(n)}),appendEventHandler(u,"dragend",function(n){o.onDragEnd(n)}),appendEventHandler(u,"dragover",function(n){o.onDragOver(n)}),appendEventHandler(u,"dragenter",function(n){o.onDragEnter(n)}),appendEventHandler(u,"dragleave",function(n){o.onDragLeave(n)}),appendEventHandler(u,"drop",function(n){o.onDrop(n)})):appendEventHandler(u,"dragstart",function(n){return stopBubbling(n)}),this.nodePanels||(this.nodePanels={}),this.nodePanels[r.id]=res,this.getChildrenPanel(r.parentId).appendChild(rt(u)));t&&this.removeChildrenPanel(n);var h=this.getChildrenPanel(n),e=this.getNodeContentPanel(n),s=null;for(f=0;f<u.children.length;f++)if(CssHandler.getIsElHasClass(u.children[f],this.opts.cssClasses.nodeBtn)){s=u.children[f];break}if(this.opts.nodeBtnPosition=="left"&&(s=ut(r,u,s)),e){if(this.opts.multiSelectMode&&r.s>-1){for(c=null,f=0;f<u.children.length;f++)if(l=u.children[f],l.className&&CssHandler.getIsElHasClass(l,this.opts.cssClasses.nodeSelect)){c=l;break}if(c)for(f=0;f<c.children.length;f++)if(l=c.children[f],l.tagName.toLowerCase()=="input"&&l.type.toLowerCase()=="checkbox"){l.checked=r.s==2;break}}}else this.opts.multiSelectMode&&r.s>-1&&(c=document.createElement("div"),c.className=this.opts.cssClasses.nodeSelect,u.appendChild(c),y=document.createElement("input"),y.type="checkbox",y.checked=r.s==2,y.disabled=r.d==1,c.appendChild(y)),e=tt.call(this,u);this.opts.nodeBtnPosition=="right"&&(s=ut(r,u,s));u.className=ot.call(this,r);u.style.display=r.isHidden?"none":"";e.className=st.call(this,r);r.c&&r.c.length>0?(s&&(s.innerHTML=this.opts.templates.expandCollapseButton,r.e==1?(s.setAttribute("aria-label",this.opts.text.collapseNode),s.className+=" "+this.opts.cssClasses.btnCollapse):(s.setAttribute("aria-label",this.opts.text.expandNode),s.className+=" "+this.opts.cssClasses.btnExpand)),r.e==1?r.imgs.Expanded?(e.style.backgroundImage="url('"+r.imgs.Expanded+"')",e.style.backgroundRepeat="no-repeat"):e.className+=" "+this.opts.cssClasses.nodeContentExpanded:r.imgs.Collapsed?(e.style.backgroundImage="url('"+r.imgs.Collapsed+"')",e.style.backgroundRepeat="no-repeat"):e.className+=" "+this.opts.cssClasses.nodeContentCollapsed):r.imgs.WithoutChildren?(e.style.backgroundImage="url('"+r.imgs.WithoutChildren+"')",e.style.backgroundRepeat="no-repeat"):e.className+=" "+this.opts.cssClasses.nodeContentWithoutChildren;a=r.id!=this.selAllId&&this.opts.templates.nodeContent&&this.opts.templates.nodeContent!=""?this.opts.templates.nodeContent.replace(/{{T}}/g,this.opts.isEscapeNodeText?escapeMarkup(r.t):r.t):escapeMarkup(r.t);a=a.replace(/{{ID}}/g,escapeMarkup(r.id));for(b in r.vals)a=a.replace(new RegExp("{{"+b+"}}","g"),r.vals[b]);if(e.innerHTML!=a&&(e.innerHTML=a),this.opts.isDragAndDrop&&(k=document.createElement("div"),k.className=this.opts.cssClasses.dndDropTarget+" "+this.opts.cssClasses.dndDropTargetBefore,e.appendChild(k),d=this.nodes[r.parentId],d.c[d.c.length-1]==r&&(g=document.createElement("div"),g.className=this.opts.cssClasses.dndDropTarget+" "+this.opts.cssClasses.dndDropTargetAfter,e.appendChild(g)),p=document.createElement("div"),p.className=this.opts.cssClasses.dndDragHint,p.title=this.opts.text.dragHint,e.appendChild(p)),this.opts.actionButtons.length)for(w=document.createElement("div"),w.className=this.opts.cssClasses.actionButtonsContainer,e.appendChild(w),f=0;f<this.opts.actionButtons.length;f++){function ht(n,t){appendEventHandler(n,"click",function(n){t.htmlEvent=n;o.onClickActionButton(t);return stopBubbling(n)})}v=document.createElement("button");v.type="button";v.className=this.opts.cssClasses.actionButton+" "+this.opts.actionButtons[f].cssClass;v.title=this.opts.actionButtons[f].tooltip;appendEventHandler(v,"dragstart",function(n){return stopBubbling(n)});ft={nodeId:r.id,buttonId:o.opts.actionButtons[f].id};ht(v,ft);w.appendChild(v)}h||(h=it.call(this,r),et=this.getIsMobileView()?document.getElementById(this.containerId):this.getNodeContainerPanel(r.id),et.appendChild(h));h.className=this.getChildrenPanelCssClass(r)};CHTree.prototype.updateChildNodes=function(n,t){var r=this.nodes[n].c,i;if(r)for(i=0;i<r.length;i++)this.updateNode(r[i].id),t&&r[i].e&&this.updateChildNodes(r[i].id,t)};CHTree.prototype.switchNode=function(n,t,i){var r=this.nodes[n],f,u,e;if(i=typeof i!="undefined"?i:!r.e,i&&this.getIsMobileView())if(r.c&&r.c.length)for(f in this.childrenPanels)f!==r.id&&this.collapseNode(f);else return;u=r.e==1!=i;this.getIsMobileView()&&t&&u&&i&&r.c&&r.c.length>0&&this.setFocusedNode(r.c[0].id,!0);r.e=i?1:0;n!==""&&this.updateNode(n);u&&i&&this.updateChildNodes(n);e=this.getChildrenPanel(n);e.className=this.getChildrenPanelCssClass(r);u&&this.opts.isSubmitExpandedNodesToServer&&(document.getElementById(this.hiExpandedNodesId).value=this.getExpandedNodeIds().join("\t"))};CHTree.prototype.getOptions=function(){return this.opts};CHTree.prototype.setOptions=function(n,t){this.opts=n;this.rerender(t)};CHTree.prototype.runOnNodes=function(n,t,i,r,u){var f,e;if(r||(r=1),u||(u={isStop:!1}),n&&!u.isStop)for(f=0;f<n.length;f++){if(e={level:r,isSkipChildren:!1,isStop:!1},t.call(this,n[f],e),e.isStop){u.isStop=!0;return}if(i&&!e.isSkipChildren&&n[f].c&&(this.runOnNodes(n[f].c,t,i,r+1,u),u.isStop))return}};CHTree.prototype.initNode=function(n,t,i){var r,u,f;if(!i&&n.id&&this.nodes[n.id]){console.warn(n);throw"Duplicate node ID detected. Trying to init a node with an already registered ID: "+n.id;}if(this.nodes[n.id]=n,t&&n.id!=this.selAllId&&n.s>-1&&n.s<2&&(t.isAllSelected=!1),!this.opts.isUseFontAwesomeIcons||n.vals&&n.vals._faIconCssClass||(n.vals||(n.vals={}),n.vals._faIconCssClass=""),n.vals._isNoFocus&&typeof n.vals._isNoFocus!="boolean"&&(n.vals._isNoFocus=n.vals._isNoFocus==="1"?!0:!1),(!n.c||n.c.length<1)&&n.vals&&n.vals._delayLoadType&&parseInt(n.vals._dlc)>0){if(!this.opts.delayLoadServiceUrl)throw new"The 'delayLoadServiceUrl' option is not initialized. It must be initialized for delayed loading to work.";r=null;u=null;switch(n.vals._delayLoadType){case"LoadOnClick":r=this.opts.cssClasses.nodeDelayLoadTrigger;u=this.opts.text.delayLoadTriggerNode.replace(/{{CHILD_COUNT}}/g,n.vals._dlc);break;case"LoadOnExpand":r=this.opts.cssClasses.nodeDelayLoadLoading;u=this.opts.text.delayLoadLoadingNode}n.c=[{id:n.id+"_dl",c:[],t:u,s:-1,d:0,vals:{_customCssClass:r,_faIconCssClass:""},imgs:{}}]}if(n.c)for(f=0;f<n.c.length;f++)n.c[f].parentId=n.id};CHTree.prototype.getAllNodeIds=function(){var n=[],t;for(t in this.nodes)n.push(t);return n};CHTree.prototype.getExpandedNodeIds=function(){var t=[],n;for(n in this.nodes)this.nodes[n].e==1&&n!=this.selAllId&&t.push(n);return t};CHTree.prototype.onNodeChildrenDelayLoaded=function(n,t){var u=JSON.parse(t),i=this.nodes[n],r;i.c=u;i.vals._delayLoadType=null;i.vals._dlc=null;r={isAllSelected:!0};this.runOnNodes([i],function(t){this.initNode(t,r,t.id==n)},!0);this.selAllId&&!r.isAllSelected&&this.nodes[this.selAllId].s==2&&(this.nodes[this.selAllId].s=0);document.getElementById(this.hiDisabledNodesId).value=this.getNodeIdsWithEnabledState(!1).join("\t");document.getElementById(this.hiSelectedNodesId).value=this.getSelectedNodeIds().join("\t");document.getElementById(this.hiLoadedNodesId).value=this.getAllNodeIds().join("\t");this.updateNode(n,!0);this.updateChildNodes(n);this.selAllId&&this.updateNode(this.selAllId)};CHTree.prototype.onClick=function(n,t){function e(n,t){if(!n)return null;while(n.parentNode&&n!=document.getElementById(this.containerId)&&!n.getAttribute("data-node-id")){if(CssHandler.getIsElHasClass(n,t))return!0;n=n.parentNode}return CssHandler.getIsElHasClass(n,t)}var r=n.srcElement||n.target,o,i,u,s;if(r&&(o=getElBoundingClientRect(r),o.width||o.height)){if(e(r,this.opts.cssClasses.btnExpand)||e(r,this.opts.cssClasses.btnCollapse)){if(i=this.getNodeId(r),i){if(this.onNodeExpanding)this.onNodeExpanding(this,{node:this.nodes[i]});if(this.opts.isExpandCollapseEffects)setTimeout(function(){if(t.onNodeExpanded)t.onNodeExpanded(t,{node:t.nodes[i]})},this.opts.expandCollapseEffectsTimeout);else if(this.onNodeExpanded)this.onNodeExpanded(this,{node:this.nodes[i]});this.switchNode(i,!0)}return stopBubbling(n)}if(r.type&&r.type.toLowerCase()=="checkbox"){this.opts.multiSelectMode&&(i=this.getNodeId(r),this.setNodeSelected(i,r.checked,n.ctrlKey?"recursive":null));this.setFocusedNode(i);return}if(e(r,this.opts.cssClasses.node)){var i=this.getNodeId(r),f=CssHandler.getIsElHasClass(this.getEffectiveEl(r),this.opts.cssClasses.nodeBack),h=CssHandler.getIsElHasClass(this.getEffectiveEl(r),this.opts.cssClasses.nodeDelayLoadTrigger);if(h?(u=this.nodes[i],u.t=this.opts.text.delayLoadLoadingNode,u.vals._customCssClass=this.opts.cssClasses.nodeDelayLoadLoading,this.updateNode(i),sendRequest("GET",this.opts.delayLoadServiceUrl.replace(/{{PARENT_ID}}/g,encodeURIComponent(u.parentId)),null,!0,function(n){t.onNodeChildrenDelayLoaded(u.parentId,n.responseText)})):(s=!0,this.getFocusedNodeId()==i&&(this.switchNode(i,!0),this.getIsMobileView()&&(!f||f&&!this.nodes[i].c.length)&&(s=!1)),s&&this.setFocusedNode(i,f)),this.onNodeClick&&!f&&!h)this.onNodeClick(this,{node:t.nodes[i],htmlEvent:n})}}};CHTree.prototype.onTreeKeyDown=function(n){function r(n,t){var u=null,f=!1,r=null;return i.runOnNodes(i.nodes[""].c,function(e,o){if(t&&f){o.isStop=!0;r=e;return}if(e.e!=1&&(o.isSkipChildren=!0),e.id==n)if(t)f=!0;else{o.isStop=!0;r=i.nodes[u];return}u=e.id},!0),r}var i=this,t=null,u=n.keyCode||n.which;switch(u){case 13:case 32:n.target.click();break;case 37:t=this.nodes[this.getFocusedNodeId()];t&&this.collapseNode(t.id);break;case 38:t=r(this.getFocusedNodeId(),!1);t&&this.setFocusedNode(t.id,!0,!1,!0);break;case 39:t=this.nodes[this.getFocusedNodeId()];t&&this.expandNode(t.id);break;case 40:t=r(this.getFocusedNodeId(),!0);t&&this.setFocusedNode(t.id,!0,!1,!0)}if(this.onKeyDown)this.onKeyDown(this,n)};CHTree.prototype.onDblClick=function(n,t){var i=n.srcElement||n.target,r;if(i&&CssHandler.getIsElHasClass(i,t.opts.cssClasses.nodeContent)&&(r=t.getNodeId(i),t.onNodeDblClick))t.onNodeDblClick(t,{nodeId:r})};CHTree.prototype.onClickActionButton=function(n){if(this.onActionButtonClick)this.onActionButtonClick(this,n)};CHTree.prototype.setFocusedNode=function(n,t,i,r){var f=this.nodes[n],s,h,c,e,u,o,l;if(!f||!f.vals._isNoFocus){if(s=this.focusedNodeId,s!=n&&!i&&this.onFocusedNodeChanging){h={isCancel:!1,oldId:s,newId:n};this.onFocusedNodeChanging(this,h);if(h.isCancel)return}if(c=document.getElementById(this.hiFocusedNodeId),this.focusedNodeId&&!this.isChangingView&&(c.value=this.focusedNodeId="",this.updateNode(s)),f){for(c.value=this.focusedNodeId=n,e=[];this.nodes[f.parentId];)e.push(f.parentId),f=this.nodes[f.parentId];for(u=e.length-1;u>=0;u--)this.expandNode(e[u]);if(this.getIsMobileView())for(u=1;u<e.length;u++)this.collapseNode(e[u]);this.updateNode(n);o=this.getNodeElement(n);t&&getIsElementHiddenByParentOverflow(o)&&(l=getFirstScrollableParent(o),l.scrollTop+=getElementPos(o,!1,l)[1]);r&&o.parentNode.focus()}if(this.onFocusedNodeChanged)this.onFocusedNodeChanged(this,{})}};CHTree.prototype.setNodeSelected=function(n,t,i){var r,e,u,o,s,f,h;if(n&&(r=this.nodes[n],r&&!(r.s<0)&&r.d!=1&&!r.isHidden)){if(this.onNodeSelecting){e={isCancel:!1,nodeId:n,isChecked:t};this.onNodeSelecting(this,e);if(e.isCancel)return}if(r.d!=1&&(r.s=t?2:0,(this.opts.multiSelectMode=="recursive"&&i!="explicit"||i=="recursive")&&(this.runOnNodes(r.c,function(n){this.setNodeSelected(n.id,t,"explicit")},!0),!t)))for(u=r;u.parentId;)this.setNodeSelected(u.parentId,!1,"explicit"),u=this.nodes[u.parentId];if(o=null,r.id!=this.selAllId){if(o=this.getSelectedNodeIds(),this.selAllId)if(t){s=!0;for(f in this.nodes)if(f!=this.selAllId&&this.nodes[f].s>-1&&this.nodes[f].s<2){s=!1;break}this.nodes[this.selAllId].s=s?2:0;this.updateNode(this.selAllId)}else this.nodes[this.selAllId].s=0,this.updateNode(this.selAllId);h=document.getElementById(this.hiSelectedNodesId);h.value=o.join("\t")}else this.setAllNodesSelected(t);if(this.updateNode(n),this.onNodeSelected)this.onNodeSelected(this,{})}};CHTree.prototype.setAllNodesSelected=function(n){var i,t,r,u;for(i in this.nodes)t=this.nodes[i],t.s>-1&&t.d!=1&&(t.s=n?2:0);r=this.getSelectedNodeIds();this.runOnNodes(this.nodes[""].c,function(n){this.updateNode(n.id)},!0);u=document.getElementById(this.hiSelectedNodesId);u.value=r.join("\t")};CHTree.prototype.expandLevels=function(n){var t=this;this.runOnNodes(this.nodes[""].c,function(i,r){(n<0||n>=r.level)&&t.expandNode(i.id);n==r.level&&(r.isSkipChildren=!0)},!0)};CHTree.prototype.expandNode=function(n){this.switchNode(n,!1,!0)};CHTree.prototype.collapseNode=function(n){this.switchNode(n,!1,!1)};CHTree.prototype.collapseAll=function(){var n=this;this.runOnNodes(this.nodes[""].c,function(t){n.collapseNode(t.id)},!0)};CHTree.prototype.setSelectedNodeIds=function(n){this.setAllNodesSelected(!1);for(var t=0;t<n.length;t++)this.setNodeSelected(n[t],!0)};CHTree.prototype.getNodeIdsWithEnabledState=function(n){var i=[],t;for(t in this.nodes)this.nodes[t].d===(n?0:1)&&t!==this.selAllId&&i.push(t);return i};CHTree.prototype.getEnabledNodeIds=function(){return this.getNodeIdsWithEnabledState(!0)};CHTree.prototype.getSelectedNodeIds=function(){var t=[],n;for(n in this.nodes)this.nodes[n].s==2&&n!=this.selAllId&&t.push(n);return t};CHTree.prototype.getFocusedNodeId=function(){return this.focusedNodeId?this.focusedNodeId:null};CHTree.prototype.getNode=function(n){return this.nodes[n]};CHTree.prototype.getAllNodes=function(n){var i,t;if(n)return this.nodes[""].c;i=[];for(t in this.nodes)t&&t!=this.selAllId&&i.push(this.nodes[t]);return i};CHTree.prototype.setNode=function(n,t){return this.nodes[n.id]=n,t?this.updateNode(n.id,!0,!0):this.rerender(!0),n};CHTree.prototype.setNodes=function(n,t){this.opts.multiSelectMode&&n.length>0&&(this.selAllId=this.containerId+"_selAll",n.unshift({t:this.opts.text.selectAllNode,id:this.selAllId,s:0,c:[],imgs:{},vals:{_faIconCssClass:"",_isNoFocus:!0}}));this.nodes={};this.nodes[""]={id:"",c:n,e:1,vals:{}};var i={isAllSelected:!0};this.runOnNodes([this.nodes[""]],function(n){this.initNode(n,i)},!0);this.selAllId&&(this.nodes[this.selAllId].s=i.isAllSelected?2:0);t||this.rerender(!0)};CHTree.prototype.getNodeElement=function(n){return this.getNodeContentPanel(n)};CHTree.prototype.getNodeByVal=function(n,t){var r,i;for(r in this.nodes)if(i=this.nodes[r],i.vals&&typeof i.vals[n]!="undefined"&&i.vals[n]==t)return i;return null};CHTree.prototype.setReadOnly=function(n){this.isReadOnly=n;var t=this.getReadOnlyOverlayPanel();t.style.display=this.isReadOnly?"":"none"};CHTree.prototype.getIsReadOnly=function(){return this.isReadOnly};CHTree.prototype.setExpandCollapseEffectsEnabled=function(n){var t=document.getElementById(this.containerId);this.opts.isExpandCollapseEffects=n;this.opts.isExpandCollapseEffects?CssHandler.addElClass(t,"CHTree_withExpandCollapseEffects"):CssHandler.removeElClass(t,"CHTree_withExpandCollapseEffects")};CHTree.prototype.createNode=function(n,t){return{id:t?t:guid(),c:[],t:n,s:0,d:0,e:0,parentId:"",vals:{},imgs:{}}};CHTree.prototype.appendNode=function(n,t){return(t||(t=""),n.parentId=t,this.nodes[n.id])?(this.showError(this.opts.text.errorCannotAddSameId),!1):this.validateNewChildNode(null,t)?(this.nodes[n.id]=n,this.nodes[t].c.push(n),this.rerender(!0),!0):!1};CHTree.prototype.insertNode=function(n,t,i){var r,u;if(this.nodes[n.id])return this.showError(this.opts.text.errorCannotAddSameId),!1;r=this.nodes[t];n.parentId=r.parentId;u=this.nodes[r.parentId].c;this.nodes[n.id]=n;u.splice(u.indexOf(r)+(i?0:1),0,n);this.rerender(!0)};CHTree.prototype.getNodeLevel=function(n){if(n==="")return 0;var t=this.nodes[n];return t.parentId?this.getNodeLevel(t.parentId)+1:1};CHTree.prototype.setKeyboardFocus=function(){if(this.nodes[""].c&&this.nodes[""].c.length){var n=this.getNodePanel(this.nodes[""].c[0].id);n&&n.focus()}};CHTree.prototype.applyFilter=function(n){this.runOnNodes(this.nodes[""].c,function(t){var i=n(t);i||this.setNodeSelected(t.id,!1,"explicit");t.isHidden=!i},!0);this.rerender(!0)};CHTree.prototype.removeFilter=function(){this.applyFilter(function(){return!0});this.rerender(!0)};CHTree.prototype.validateNewChildNode=function(n,t){function f(n){if(!n.c.length)return 0;var t=1;return r.runOnNodes(n.c,function(n,i){i.level>t&&(t=i.level)},!0,1),t}function i(n,t){if(n==t)return!0;var u=r.nodes[n];return u.parentId?u.parentId==t?!0:i(u.parentId,t):!1}var r=this,u;return n&&i(t,n)?(this.showError(this.opts.text.errorCannotMoveChildOfItself),!1):this.opts.maxLevel&&(u=this.getNodeLevel(t)+1+(n?f(this.nodes[n]):0),u>this.opts.maxLevel)?(n?this.showError(this.opts.text.errorCannotMoveMaxHierarchyLevelN.replace("{0}",this.opts.maxLevel)):this.showError(this.opts.text.errorCannotAddMaxHierarchyLevelN.replace("{0}",this.opts.maxLevel)),!1):!0};CHTree.prototype.moveNode=function(n,t,i){var u=this.nodes[t],f=this.nodes[u.parentId],r=this.nodes[n],e=this.nodes[r.parentId],o;if(this.validateNewChildNode(r.id,i=="child"?u.id:u.parentId)){e.c.splice(e.c.indexOf(r),1);switch(i){case"before":case"after":o=i=="before"?0:1;r.parentId=f.id;f.c.splice(f.c.indexOf(u)+o,0,r);break;case"child":r.parentId=u.id;u.c.push(r)}this.rerender(!0)}};CHTree.prototype.moveNodeOnSameLevel=function(n,t){var r=this.nodes[n],i=this.nodes[r.parentId],u,f;i.c.length!=1&&(u=i.c.indexOf(r),f=Math.min(i.c.length-1,Math.max(0,u+t)),i.c.splice(u,1),i.c.splice(f,0,r),this.rerender(!0))};CHTree.prototype.removeNode=function(n){var t=this.nodes[n],i;this.runOnNodes([t],function(n){n.id==this.focusedNodeId&&this.setFocusedNode(null);delete this.nodes[n.id]},!0);i=this.nodes[t.parentId];i.c.splice(i.c.indexOf(t),1);this.rerender(!0)};CHTree.prototype.onDragStart=function(n){this.dragSrcId=this.getNodeId(n.target);this.noDropIds={};this.runOnNodes(this.nodes[this.dragSrcId].c,function(n){this.noDropIds[n.id]=!0},!0);this.setFocusedNode(this.dragSrcId);CssHandler.addElClass(n.target,this.opts.cssClasses.dndDragSrc);CssHandler.addElClass(this.getChildrenPanel(this.dragSrcId),this.opts.cssClasses.dndDragSrcChildren);var t=document.getElementById(this.containerId);CssHandler.addElClass(t,this.opts.cssClasses.dndDraggingMode)};CHTree.prototype.onDragEnter=function(n){var t=this.getNodeId(n.target),i=t!=this.dragSrcId&&!this.noDropIds[t];i&&CssHandler.addElClass(n.target,this.opts.cssClasses.dndDragOver)};CHTree.prototype.onDragOver=function(n){var t=this.getNodeId(n.target),i=t!=this.dragSrcId&&!this.noDropIds[t];return n.dataTransfer.effectAllowed=i?"move":"none",n.dataTransfer.dropEffect=i?"move":"none",stopBubbling(n)};CHTree.prototype.onDragLeave=function(n){CssHandler.removeElClass(n.target,this.opts.cssClasses.dndDragOver)};CHTree.prototype.onDragEnd=function(n){CssHandler.removeElClass(n.target,this.opts.cssClasses.dndDragSrc);CssHandler.removeElClass(this.getChildrenPanel(this.dragSrcId),this.opts.cssClasses.dndDragSrcChildren);var t=document.getElementById(this.containerId);CssHandler.removeElClass(t,this.opts.cssClasses.dndDraggingMode);this.dragSrcId=null};CHTree.prototype.onDrop=function(n){var t,u,r,i;if(CssHandler.removeElClass(n.target,this.opts.cssClasses.dndDragOver),t="child",n.target.className&&CssHandler.getIsElHasClass(n.target,this.opts.cssClasses.dndDropTargetAfter)?t="after":n.target.className&&CssHandler.getIsElHasClass(n.target,this.opts.cssClasses.dndDropTargetBefore)&&(t="before"),u=this.nodes[this.dragSrcId],r=this.nodes[this.getNodeId(n.target)],!this.validateNewChildNode(u.id,t=="child"?r.id:r.parentId))return stopBubbling(n);if(i={dropType:t,srcNode:u,destNode:r,isCancel:!1},this.onNodeDropping)this.onNodeDropping(this,i);if(i.isCancel||this.moveNode(i.srcNode.id,i.destNode.id,i.dropType),this.onNodeDropped)this.onNodeDropped(this,{dropType:t,srcNode:u,destNode:r});return stopBubbling(n)};PopupWindow.defaults={wnd:null,target:null,targetId:"",targetCoordinatesEvalType:"",btnClose:null,btnCloseId:"",dragTrigger:null,dragTriggerId:"",isAllowDragging:!1,position:"center",showAction:"init",hideAction:"none",isDontHideOnTargetClick:!1,width:200,height:200,relOffset:null,fixedPosition:null,isEffectExpand:!1,isEffectAppear:!1,isInvertExpandEffectDir:!1,effectsTimeout:300,isAddShadow:!0,isModal:!1,contentUrl:"",iframe:null,iframeId:"",iframeLoadingText:"Loading...",isDelayLoadIframeContent:!1,isMoveToBodyChildLevel:!1,isRenderBeak:!1,beakCssClass:"",beakSize:10,zIndex:5e4,isEnableResponsiveResize:!1,responsiveResizeMaxWidth:200,responsiveResizeMaxHeight:200,responsiveResizedElId:"",responsiveResizedEl:null,responsiveResizedElHeight:0};PopupWindow.prototype.hidePnlLoading=function(){this.pnlLoading&&(this.pnlLoading.style.display="none",this.pnlLoading.parentNode&&this.pnlLoading.parentNode.removeChild(this.pnlLoading),this.pnlLoading=null)};PopupWindow.prototype.createModalPanel=function(){var n=document.createElement("div"),t;return n.style.backgroundColor="black",n.style.opacity="0.5",n.style.webkitTransition=n.style.transition="opacity "+this.effectsTimeout+"ms",n.style.position="fixed",n.style.top="0",n.style.bottom="0",n.style.left="0",n.style.right="0",n.style.overflow="hidden",n.style.zIndex=this.zIndex-1,document.getElementsByTagName("body")[0].appendChild(n),t=this,appendEventHandler(n,"click",function(){t.hide()}),n};PopupWindow.prototype.adjustPosition=function(){var u,w,a,v,b,k,h,c,l,d;if(this.position.toLowerCase()!="default"){var f=this.getWindowSize(),b=0,k=0;if(this.relOffset&&(f[0]+=this.relOffset.left?this.relOffset.left:0,f[1]+=this.relOffset.top?this.relOffset.top:0),this.target){var t=this.getTargetPos(this.target),g=[this.getViewportParent(this.target.parentNode,!0),this.getViewportParent(this.target.parentNode,!1)],s=this.getTargetPosRelativeToViewportParents(g),r=this.getElementSize(this.target),y=this.getViewPos(g),p=this.getViewSize(g),o=this.getBeakSize(),i,n,e;switch(this.position.toLowerCase()){case"left":i=1;n=0;e=-1;break;case"right":i=1;n=0;e=1;break;case"top":i=0;n=1;e=-1;break;default:i=0;n=1;e=1}if(u=(r[n]+f[n])/2,w=[-y[i]+s[i]+f[i]>p[i]?-y[i]+s[i]+r[i]/2>p[i]/2&&s[i]+r[i]-f[i]>=0?t[i]+r[i]-f[i]:t[i]:t[i],-y[n]+s[n]+r[n]+f[n]-u+u*e>p[n]?-y[n]+s[n]+r[n]/2>p[n]/2&&s[n]+r[n]-u-u*e>=0?t[n]+r[n]-u-u*e:t[n]+r[n]-u+u*e:s[n]+r[n]-u+u*e>=0?t[n]+r[n]-u+u*e:t[n]+r[n]-u-u*e],a=w[i],v=w[n],this.wnd.style.position="absolute",this.wnd.style.clear="both",b=(a<t[0]?-1:1)*((this.getIsHorizontalAlign()?o[0]:0)+(this.relOffset&&this.relOffset.left?this.relOffset.left:0)),this.wnd.style.left=a+b+"px",k=(v<t[1]?-1:1)*((this.getIsHorizontalAlign()?0:o[1])+(this.relOffset&&this.relOffset.top?this.relOffset.top:0)),this.wnd.style.top=v+k+"px",this.beak){h=null;switch(this.position.toLowerCase()){case"left":h=a<t[0]?"left":"right";break;case"right":h=a>t[0]?"right":"left";break;case"top":h=v<t[1]?"top":"bottom";break;case"bottom":h=v>t[1]?"bottom":"top"}c=0;l=0;switch(h){case"left":this.beak.children[0].style.transform=this.beak.children[0].style.webkitTransform="rotate(45deg)";this.beak.children[0].style.left="0";this.beak.children[0].style.top="0";c=t[0]-o[0];l=t[1]+Math.min(f[1]/2,r[1]/2)-o[1]/2;break;case"right":this.beak.children[0].style.transform=this.beak.children[0].style.webkitTransform="rotate(-45deg)";this.beak.children[0].style.left="0";this.beak.children[0].style.top="50%";c=t[0]+r[0];l=t[1]+Math.min(f[1]/2,r[1]/2)-o[1]/2;break;case"top":this.beak.children[0].style.transform=this.beak.children[0].style.webkitTransform="rotate(-45deg)";this.beak.children[0].style.left="0";this.beak.children[0].style.top="0";c=t[0]+Math.min(f[0]/2,r[0]/2)-o[0]/2;l=t[1]-o[1];break;case"bottom":this.beak.children[0].style.transform=this.beak.children[0].style.webkitTransform="rotate(45deg)";this.beak.children[0].style.left="50%";this.beak.children[0].style.top="0";c=t[0]+Math.min(f[0]/2,r[0]/2)-o[0]/2;l=t[1]+r[1]}this.beak.style.left=c+"px";this.beak.style.top=l+"px"}}else{this.wnd.style.position="fixed";switch(this.position.toLowerCase()){case"left":this.wnd.style.left="0";this.wnd.style.top="0";break;case"right":this.wnd.style.right="0";this.wnd.style.top="0";break;case"top":this.wnd.style.top="0";this.wnd.style.left="0";break;case"bottom":this.wnd.style.bottom="0";this.wnd.style.left="0";break;case"center":this.wnd.style.top=Math.max(0,document.documentElement.clientHeight/2-f[1]/2)+"px";this.wnd.style.left=Math.max(0,document.documentElement.clientWidth/2-f[0]/2)+"px";break;default:this.wnd.style.left="0";this.wnd.style.top="0"}}if(this.fixedPosition){this.wnd.style.position="fixed";this.wnd.style.left="";this.wnd.style.top="";this.wnd.style.right="";this.wnd.style.bottom="";for(d in this.fixedPosition)this.wnd.style[d]=this.fixedPosition[d]}}};PopupWindow.prototype.show=function(){var i,t,n,r;if(this.isShowing){this.adjustSize();this.adjustPosition();return}if(this.onShowing){i={isCancel:!1};this.onShowing(this,i);if(i.isCancel)return}this.adjustSize();this.adjustPosition();this.isModal&&(this.pnlModal=this.createModalPanel());this.contentUrl&&this.iframe&&this.isDelayLoadIframeContent&&(!this.iframe.src||isIgnoreCaseEqual(this.iframe.src,"about:blank"))&&(this.iframe.src=this.contentUrl);this.wnd.style.display="block";this.beak&&(this.beak.style.display=this.wnd.style.display);this.wnd.style.visibility="visible";t=[];this.isEffectExpand&&(t.push("transform "+this.effectsTimeout+"ms"),t.push("-webkit-transform "+this.effectsTimeout+"ms"));this.isEffectAppear&&t.push("opacity "+this.effectsTimeout+"ms");this.wnd.style.webkitTransition=this.wnd.style.transition=t.join(",");this.beak&&(this.beak.style.transition=this.beak.style.webkitTransition=this.wnd.style.transition);n=this;r=50;setTimeout(function(){n.isEffectExpand&&(n.wnd.style.transform=n.wnd.style.webkitTransform="",n.beak&&(n.beak.style.transform=n.beak.style.webkitTransform=n.wnd.style.transform));n.wnd.style.opacity="1";n.beak&&(n.beak.style.opacity=n.wnd.style.opacity)},r);switch(this.hideAction){case"click":this.isDontHidePopupOnBodyClick=!0;setTimeout(function(){n.isDontHidePopupOnBodyClick=!1},0)}if(this.isShowing=!0,this.onShown)if(this.effectsTimeout)setTimeout(function(){n.onShown(n,{})},this.effectsTimeout+r);else this.onShown(this,{})};PopupWindow.prototype.hide=function(){var t,n;if(this.isShowing){if(this.onHiding){t={cancel:!1};this.onHiding(this,t);if(t.cancel)return}this.pnlModal&&(n=this,this.pnlModal.style.opacity="0",setTimeout(function(){n.pnlModal&&(document.getElementsByTagName("body")[0].removeChild(n.pnlModal),n.pnlModal=null)},this.effectsTimeout));this.isEffectAppear||this.isEffectExpand?(this.isEffectExpand&&(this.wnd.style.transform=this.wnd.style.webkitTransform=this.getTranslateValue(),this.beak&&(this.beak.style.transform=this.beak.style.webkitTransform=this.wnd.style.transform)),this.isEffectAppear&&(this.wnd.style.opacity="0",this.beak&&(this.beak.style.opacity=this.wnd.style.opacity)),n=this,setTimeout(function(){n.wnd.style.display="none";n.beak&&(n.beak.style.display=n.wnd.style.display)},this.effectsTimeout)):(this.wnd.style.display="none",this.beak&&(this.beak.style.display=this.wnd.style.display));this.isShowing=!1}};PopupWindow.prototype.getWindowSize=function(){this.beginWindowMeasurement();var n=[this.wnd.offsetWidth>0?this.wnd.offsetWidth:this.width,this.wnd.offsetHeight>0?this.wnd.offsetHeight:this.height];return this.endWindowMeasurement(),n};PopupWindow.prototype.setWindowSize=function(n,t){var r=!1,i=this.target?getElementPos(this.target,!1):null,u,f;n&&(u=i?Math.max(document.documentElement.clientWidth-i[0]-this.target.offsetWidth,i[0]):document.documentElement.clientWidth,n=Math.min(n,u),this.width=n,this.wnd.style.width=n+"px",r=!0);t&&(f=i?Math.max(document.documentElement.clientHeight-i[1]-this.target.offsetHeight,i[1]):document.documentElement.clientHeight,t=Math.min(t,f),this.height=t,this.wnd.style.height=t+"px",r=!0);r&&this.adjustPosition()};PopupWindow.bind=function(){var u,o,f,i,s,n,h,e,r,c,t;for(PopupWindow.instances||(PopupWindow.instances=[]),u="data-chpw-",o=document.getElementsByTagName("*"),f=0;f<o.length;f++)if(i=o[f],s=i.getAttribute("class"),s&&s.toLowerCase().indexOf("chpopupwindow")>=0){for(n=null,h=i.getAttribute(u+"params"),h?(n=JSON.parse(h),n.wnd=i):n={wnd:i},e=0;e<i.attributes.length;e++)if(r=i.attributes[e],r.name.toLowerCase().indexOf(u)>=0){c=r.name.toLowerCase().replace(u,"");for(t in PopupWindow.defaults)if(isIgnoreCaseEqual(t,c))if(typeof PopupWindow.defaults[t]=="string"){n[t]=r.value;break}else if(typeof PopupWindow.defaults[t]=="boolean"){n[t]=r.value&&r.value.toLowerCase()=="true";break}else if(typeof PopupWindow.defaults[t]=="number"){n[t]=parseInt(r.value);break}}PopupWindow.instances["wnd"+PopupWindow.length]=new PopupWindow(n)}};PopupWindow.prototype.adjustSize=function(){var n,r,i,t,u;(isIgnoreCaseEqual(getStyleValue(this.wnd,"position"),"absolute")||isIgnoreCaseEqual(getStyleValue(this.wnd,"position"),"fixed"))&&(n=0,this.isEnableResponsiveResize?(r=this.responsiveResizeMaxWidth/this.responsiveResizeMaxHeight,n=this.responsiveResizedElHeight>0?this.responsiveResizedElHeight:this.responsiveResizedEl?this.wnd.scrollHeight-this.responsiveResizedEl.offsetHeight:0,n<0&&(n=0),i=Math.min(document.documentElement.clientWidth,this.responsiveResizeMaxWidth),t=Math.min(document.documentElement.clientHeight-n,this.responsiveResizeMaxHeight),i=Math.min(i,t*r),t=Math.min(t,i/r),this.setWindowSize(i,t+n),this.responsiveResizedEl&&(this.responsiveResizedEl.style.height=t+"px")):(this.iframe&&(this.beginWindowMeasurement(),n=this.wnd.scrollHeight-this.iframe.offsetHeight,u=this.wnd.offsetHeight,this.endWindowMeasurement()),this.isAutoAdjustHeightForIframe&&this.iframeContentHeight&&(this.iframe.style.height=this.iframeContentHeight+"px",this.setWindowSize(null,this.iframeContentHeight+n),u=this.getWindowSize()[1]),this.iframe&&(this.iframe.style.height=u-n+"px")))};PopupWindow.prototype.beginWindowMeasurement=function(){this.wnd.offsetParent||(this.oldDisplay=this.wnd.style.display,this.oldVisibility=this.wnd.style.visibility,this.wnd.style.visibility="hidden",this.wnd.style.display="block")};PopupWindow.prototype.endWindowMeasurement=function(){this.oldDisplay&&(this.wnd.style.visibility=this.oldVisibility,this.wnd.style.display=this.oldDisplay,this.oldVisibility=null,this.oldDisplay=null)};PopupWindow.prototype.getTargetPos=function(n){if(this.targetCoordinatesEvalType)return getElementPos(n,this.targetCoordinatesEvalType=="body");this.beginWindowMeasurement();var t=getNearestAbsParent(this.wnd),i=getElementPos(n,!this.target,t);return this.endWindowMeasurement(),i};PopupWindow.prototype.getViewportParent=function(n,t){return getMatchingParent(n,function(n){return n&&getIsAbsPos(n)&&(t?!getIsOverflowVisibleX(n):!getIsOverflowVisibleY(n))})};PopupWindow.prototype.getTargetPosRelativeToViewportParents=function(n){var t=n[0],r=getElementPos(this.target,!t,t),u=r[0],i=n[1],f=i==t?r[1]:getElementPos(this.target,!i,i)[1];return[u,f]};PopupWindow.prototype.getElementSize=function(n){var t=getElBoundingClientRect(n);return[t.width,t.height]};PopupWindow.prototype.getViewPos=function(n){var r=n[0],u=n[1],t=r?r.scrollLeft:0,i=u?u.scrollTop:0;return r&&u?[t,i]:typeof pageYOffset=="number"?(t=r?t:window.pageXOffset,i=u?i:window.pageYOffset,[t,i]):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(t=r?t:document.body.scrollLeft,i=u?i:document.body.scrollTop,[t,i]):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?(t=r?t:document.documentElement.scrollLeft,i=u?i:document.documentElement.scrollTop,[t,i]):(t=r?t:0,i=u?i:0,[t,i])};PopupWindow.prototype.getViewSize=function(n){var t=n[0],i=n[1],r=t?t.offsetWidth-getBordersWidth(t):getWindowClientAreaWidth(window),u=i?i.offsetHeight-getBordersHeight(t):getWindowClientAreaHeight(window);return[r,u]};PopupWindow.prototype.setRelOffset=function(n){this.relOffset=n};PopupWindow.prototype.setTarget=function(n){this.target=n};PopupWindow.prototype.getTarget=function(){return this.target};PopupWindow.prototype.getEffectsTimeout=function(){return this.effectsTimeout};PopupWindow.prototype.getIsShowing=function(){return this.isShowing};PopupWindow.prototype.setWidth=function(n){this.wnd.style.width=n+"px"};CHMenu.defaults={isMobileViewIfParentOverflow:!1,mobileViewMinWidthThreshold:979,isAllowItemSelection:!1,isShowPopupOnHover:!1,isUseFontAwesomeIcons:!1,fontAwesomeVersion:"latest",selectedItemId:null,isMovePopupToBodyChildLevel:!0,isEscapeMenuItemText:!0,templates:{itemContent:"<a href='{{_url}}' target='{{_target}}' title='{{_toolTip}}' {{_ariaLabel}}>{{T}}<\/a>",dropDownArrow:"<i class='fal fa-angle-down'><\/i>",treeItemContent:null},cssClasses:{menu:"CHMenu_menu clearfix",menuItemDesktopRootLevel:"CHMenu_menuItem",menuItemDesktopRootLevelWithImage:"CHMenu_menuItemWithImage",menuItemDesktopRootLevelSelected:"CHMenu_menuItemSelected",menuItemDesktopRootLevelDisabled:"CHMenu_menuItemDisabled",popup:"CHMenu_popup"}};CHMenu.prototype.initItems=function(n){for(var t,i=0;i<n.length;i++)t=n[i],this.items[t.id]=t,t.vals._url||(t.vals._url=this.noUrlAddress),t.vals._target||(t.vals._target=""),t.vals._toolTip||(t.vals._toolTip=""),t.vals._ariaLabel||(t.vals._ariaLabel=""),t.vals._rel||(t.vals._rel=""),this.opts.isUseFontAwesomeIcons&&!t.vals._faIconCssClass&&(t.vals._faIconCssClass="far CHMenuItem_noFaIcon"),t.c&&this.initItems.call(this,t.c)};CHMenu.prototype.getItems=function(){return this.items};CHMenu.prototype.setItems=function(n){this.items={};this.items[""]={id:"",c:n};this.initItems(n);this.hidePopup();this.createMenu();this.onWindowResize()};CHMenu.prototype.onWindowResize=function(){function t(){if(i.onInit)i.onInit(this,{})}var i=this,u=this.isDeferLayoutEvents,n,r;(this.mobileViewDynamicWidthThreshold||typeof this.opts.mobileViewMinWidthThreshold=="number")&&this.setIsMobileView(getWindowClientAreaWidth()<this.mobileViewDynamicWidthThreshold||getWindowClientAreaWidth()<this.opts.mobileViewMinWidthThreshold||this.opts.mobileViewMinWidthThreshold==0);this.opts.isMobileViewIfParentOverflow&&(typeof this.getIsMobileView()=="undefined"&&this.setIsMobileView(!1),n=document.getElementById(this.containerId).parentNode,r=n.style.overflow,n.style.overflow="auto",!this.getIsMobileView()&&(n.offsetHeight<n.scrollHeight||!isIe&&!isEdge&&n.offsetWidth<n.scrollWidth||(isIe||isEdge)&&n.offsetWidth<n.scrollWidth&&Math.abs(n.offsetWidth-n.scrollWidth)>2)&&(this.mobileViewDynamicWidthThreshold=getWindowClientAreaWidth()+1,this.setIsMobileView(!0)),n.style.overflow=r);!this.getIsMobileView()&&!this.opts.isMobileViewIfParentOverflow&&this.opts.mobileViewMinWidthThreshold<0&&this.setIsMobileView(!1);this.isInitialized||(this.isInitialized=!0,u?setTimeout(t,0):t())};CHMenu.prototype.getIsMobileView=function(){return this.isMobileView};CHMenu.prototype.setIsMobileView=function(n){function i(){if(t.onViewSwitched)t.onViewSwitched(t,{isMobileView:t.isMobileView})}var t=this,r=this.isMobileView!=n;this.isMobileView=n;r&&(this.hidePopup(),this.createMenu(),this.isDeferLayoutEvents?(this.isDeferLayoutEvents=!1,setTimeout(i,0)):i())};CHMenu.prototype.getTree=function(n){return this.getIsMobileView()?this.mobileTree:this.treesByItemIds?this.treesByItemIds[n]:null};CHMenu.prototype.createTree=function(n,t){var e={mobileViewMode:"always",expandLevels:0,isReadOnly:!1,isHighlightFocusedNode:this.opts.isAllowItemSelection,isUseFontAwesomeIcons:this.opts.isUseFontAwesomeIcons,isEscapeNodeText:this.opts.isEscapeMenuItemText,focusedNodeId:this.selectedItemId,multiSelectMode:"",cssClasses:{tree:this.opts.cssClasses.menu}},r,f,u,i;for(this.opts.templates.treeItemContent&&(e.templates={nodeContent:this.opts.templates.treeItemContent}),r=document.getElementById(n);r.firstChild;)r.removeChild(r.firstChild);return f=document.createElement("div"),f.id=r.id+"_pt",r.appendChild(f),u=new CHTree(f.id,e,t),i=this,u.onNodeClick=function(n,t){i.items[t.node.id].d||this.isReadOnly||i.triggerItemClick(i.items[t.node.id],null,t.htmlEvent)&&(i.hidePopup(),i.setSelectedItem(null))},u.onNodeExpanding=function(n,t){i.triggerItemExpanding(t.node)},u.onNodeExpanded=function(n,t){i.triggerItemExpanded(t.node)},u};CHMenu.prototype.getMenuItemClass=function(n){var i=this.opts.isAllowItemSelection&&this.selectedItemId==n,t=this.getItem(n);return this.opts.cssClasses.menuItemDesktopRootLevel+(i?" "+this.opts.cssClasses.menuItemDesktopRootLevelSelected:"")+(t.d||this.isReadOnly?" "+this.opts.cssClasses.menuItemDesktopRootLevelDisabled:"")+(t.imgs.WithoutChildren?" "+this.opts.cssClasses.menuItemDesktopRootLevelWithImage:"")+(t.t?"":" CHMenuItem_noText")+(t.vals._customCssClass?" "+t.vals._customCssClass:"")};CHMenu.prototype.setSelectedItem=function(n){var t,i;if(this.selectedItemId=n,this.getIsMobileView())this.mobileTree.setFocusedNode(n);else{for(t in this.itemEls)this.itemEls[t].className=this.getMenuItemClass(t);if(n&&this.getTree(n))this.getTree(n).setFocusedNode(n,!1,!0);else for(i in this.treesByItemIds)this.getTree(i).setFocusedNode(null,!1,!0)}};CHMenu.prototype.getItem=function(n){return this.items[n]};CHMenu.prototype.setItemEnabled=function(n,t,i){var r=this.items[n];r.d=t?0:1;this.setItem(r,i)};CHMenu.prototype.setItemUrl=function(n,t,i){var r=this.items[n];r.vals._url=t;this.setItem(r,i)};CHMenu.prototype.setItem=function(n,t){this.items[n.id]=n;this.getIsMobileView()?this.mobileTree.getNode(n.id)&&this.mobileTree.setNode(n,t):(this.items[n.id]=n,this.rerender())};CHMenu.prototype.rerender=function(){this.setItems(this.items[""].c)};CHMenu.prototype.setOptions=function(n){this.opts=n;this.rerender()};CHMenu.prototype.getOptions=function(){return this.opts};CHMenu.prototype.setReadOnly=function(n){var t=!!this.isReadOnly!=n;this.isReadOnly=n;t&&this.rerender()};CHMenu.prototype.createMenu=function(){function f(n){var t=document.createElement("li"),u=this.opts.isEscapeMenuItemText?escapeMarkup(n.t):n.t,i,r;n.c&&n.c.length>0&&this.opts.templates.dropDownArrow&&(u+=this.opts.templates.dropDownArrow);i=this.opts.templates.itemContent&&this.opts.templates.itemContent!=""?this.opts.templates.itemContent.replace(/{{T}}/g,u):u;i=i.replace(/{{ID}}/g,escapeMarkup(n.id));for(r in n.vals)i=i.replace(new RegExp("{{"+r+"}}","g"),(n.d||this.isReadOnly)&&r=="_url"?this.noUrlAddress:n.vals[r]);return t.className=this.getMenuItemClass(n.id),this.itemEls||(this.itemEls={}),this.itemEls[n.id]=t,t.innerHTML=i,t.setAttribute("data-item-id",n.id),n.imgs.WithoutChildren&&(t.style.backgroundImage="url('"+n.imgs.WithoutChildren+"')",t.style.backgroundRepeat="no-repeat"),t}function e(n,t){var r=document.createElement("div"),i,u;r.id=this.containerId+"_"+n.id+"_chmenu_popup";r.className=this.opts.cssClasses.popup;r.setAttribute("data-popup-for-chmenu",n.id);t.appendChild(r);var f=this.createTree(r.id,n.c),e={wnd:r,target:t,position:"bottom",showAction:"none",hideAction:"none",isEffectAppear:!this.opts.isShowPopupOnHover,isEffectExpand:!this.opts.isShowPopupOnHover,isAddShadow:!1,isMoveToBodyChildLevel:this.opts.isMovePopupToBodyChildLevel},o=new PopupWindow(e);for(this.opts.isShowPopupOnHover&&(i=this,this.isDontHidePopupOnBodyClick=!0,appendEventHandler(t,"mouseenter",function(n){i.curPopupTargetItemId||(i.curPopupTargetItemId=(n.srcElement||n.target).getAttribute("data-item-id"),setTimeout(function(){i.curPopupTargetItemId&&i.onItemMouseEnter.call(i,n)},300))}),appendEventHandler(t,"mouseleave",function(n){return i.curPopupTargetItemId=null,i.onPopupOrItemMouseLeave.call(i,n)}),appendEventHandler(r,"mouseleave",function(n){return i.curPopupTargetItemId=null,i.onPopupOrItemMouseLeave.call(i,n)})),this.treesByItemIds||(this.treesByItemIds={}),this.popupsByParentItemIds||(this.popupsByParentItemIds={}),u=0;u<n.c.length;u++)this.treesByItemIds[n.c[u].id]=f;this.popupsByParentItemIds[n.id]=o}for(var i=document.getElementById(this.containerId),t,r,n,u;i.firstChild;)i.removeChild(i.firstChild);if(this.itemEls=null,this.getIsMobileView())this.mobileTree=this.createTree(this.containerId,this.items[""].c);else for(t=document.createElement("ul"),t.className=this.opts.cssClasses.menu,r=this,appendEventHandler(t,"click",function(n){return r.onClick.call(r,n)}),i.appendChild(t),n=0;n<this.items[""].c.length;n++)u=f.call(this,this.items[""].c[n]),t.appendChild(u),this.items[""].c[n].c&&this.items[""].c[n].c.length!==0?e.call(this,this.items[""].c[n],u):appendEventHandler(u,"mouseenter",function(){return r.hidePopup()})};CHMenu.prototype.getItemIdByEl=function(n){if(!n)return null;while(!n.getAttribute("data-item-id")&&n.parentNode&&n!=document.getElementById(this.containerId)&&!CssHandler.getIsElHasClass(n,this.opts.cssClasses.popup))n=n.parentNode;return n.getAttribute("data-item-id")?{id:n.getAttribute("data-item-id"),el:n}:null};CHMenu.prototype.adjustPopupPosition=function(){this.curPopupParentItemId&&this.popupsByParentItemIds[this.curPopupParentItemId].adjustPosition()};CHMenu.prototype.showPopup=function(n){this.popupsByParentItemIds[n].getIsShowing()?this.popupsByParentItemIds[n].adjustPosition():(this.curPopupParentItemId&&this.popupsByParentItemIds[this.curPopupParentItemId].hide(),this.popupsByParentItemIds[n].show());this.curPopupParentItemId=n};CHMenu.prototype.hidePopup=function(){this.curPopupParentItemId&&(this.popupsByParentItemIds[this.curPopupParentItemId].hide(),this.curPopupParentItemId=null)};CHMenu.prototype.triggerItemClick=function(n,t,i){if(this.onItemClick){var r={item:n,isCancel:!1,el:t,htmlEvent:i};this.onItemClick(this,r);return!r.isCancel}return!0};CHMenu.prototype.triggerItemExpanding=function(n){if(this.onItemExpanding){var t={item:n};this.onItemExpanding(this,t)}};CHMenu.prototype.triggerItemExpanded=function(n){if(this.onItemExpanded){var t={item:n};this.onItemExpanded(this,t)}};CHMenu.prototype.onClick=function(n){var u=n.srcElement||n.target,i,t,r;if(u&&(i=this.getItemIdByEl(u),i)){if(t=this.items[i.id],this.isReadOnly||t.d||this.opts.isShowPopupOnHover&&t.c&&t.c.length)return;if(t.c&&t.c.length>0)this.curPopupParentItemId!=t.id&&(this.triggerItemExpanding(t),r=this,setTimeout(function(){r.triggerItemExpanded(t)},this.popupsByParentItemIds[t.id].getEffectsTimeout()),this.showPopup(t.id),this.isDontHidePopupOnBodyClick=!0,setTimeout(function(){r.isDontHidePopupOnBodyClick=!1;r.treesByItemIds[t.c[0].id].setKeyboardFocus()},0));else if(!this.triggerItemClick(t,i.el,n))return stopBubbling(n);this.opts.isAllowItemSelection&&this.setSelectedItem(t.id)}};CHMenu.prototype.onItemMouseEnter=function(n){var r=n.srcElement||n.target,i,t,u;r&&(i=this.getItemIdByEl(r),i)&&((t=this.items[i.id],this.isReadOnly||t.d)||t.c&&t.c.length&&(this.curPopupParentItemId!=t.id&&(this.triggerItemExpanding(t),u=this,setTimeout(function(){u.triggerItemExpanded(t)},this.popupsByParentItemIds[t.id].getEffectsTimeout())),this.showPopup(i.id)))};CHMenu.prototype.onPopupOrItemMouseLeave=function(n){getIsChildOf(n.relatedTarget||n.toElement,this.popupsByParentItemIds[this.curPopupParentItemId]?this.popupsByParentItemIds[this.curPopupParentItemId].getTarget():null)||this.hidePopup()};CHOffCanvasPanel.prototype.switchState=function(n){var t=document.getElementById(this.pnlContainerName);if(CssHandler.switchElClass(t,"CHOffCanvasPanel_openMenu",n),this.onStateChanging)this.onStateChanging(this,{isOpening:n})};CHOffCanvasPanel.prototype.show=function(){this.switchState(!0)};CHOffCanvasPanel.prototype.hide=function(){this.switchState(!1)};appendEventHandler(window,"load",webHelpInit)