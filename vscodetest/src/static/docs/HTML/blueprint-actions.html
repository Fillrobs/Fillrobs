<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="MobileOptimized" content="width">
  <meta name="HandheldFriendly" content="true">
  <script type="text/javascript">
    var addThisScriptUrl = 'https://s7.addthis.com/js/300/addthis_widget.js';
  </script>
  <link rel='shortcut icon' href='../_webHelpImages/cloudbolt-login-logo.png' /><link rel='icon' href='../_webHelpImages/cloudbolt-login-logo.png' />
  <link rel='stylesheet' type='text/css' href='../_webHelpStyles/CHWebHelp.css?t=637806378603891771'/><link rel='stylesheet' type='text/css' href='../_webHelpStyles/CommonControls.css?t=637806378603891771'/><link rel='stylesheet' type='text/css' href='../_webHelpStyles/CommonControls/FontAwesome/css/font-awesome.min-ignore.css?t=637806378603891771'/><link rel='stylesheet' type='text/css' href='../_webHelpStyles/z-Branding.css?t=637806378603891771'/>
  <script  src='../_webHelpScripts/Master/1-script.js?t=637806378603891771' type='text/javascript'></script><script  src='../_webHelpScripts/Master/toc_nav.js?t=637806378603891771' type='text/javascript'></script>
  <link rel="stylesheet" href="https://cdn.materialdesignicons.com/5.0.45/css/materialdesignicons.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://kit.fontawesome.com/68d03bdd6e.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
<script type="text/javascript">//<!--
appendEventHandler(window, 'load', function() {webHelpSelectTocNodeByExtId('blueprint-actions',true);});
//--></script><title>Blueprint Actions</title><script type="text/javascript">//<!--
var articleTitleText='Blueprint Actions';
//--></script><link rel="stylesheet" type="text/css" href="../Styles/article-published.css"/><link rel="stylesheet" type="text/css" href="../Styles/cloudbolt-docs/CloudBoltBranding.css"/><script src="../Scripts/article-published.js" type="text/javascript"></script><script src="../Scripts/cloudbolt-docs/Script1.js" type="text/javascript"></script><script src="../Scripts/cloudbolt-docs/Script2.js" type="text/javascript"></script><meta charset="utf-8"><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  
</head>
<body class="WebHelp_body">
  <div id="pnlContainer" class="CHOffCanvasPanel_container">
    <div class="CHOffCanvasPanel_content">
      <nav id="pnlOffCanvasNav" class="CHOffCanvasPanel_nav noselect">
        <div id="pnlOffCanvasHeader" class="BaseMaster_offCanvasHeader">
        </div>
        <script  type='text/javascript'>//<!--
window['mobileMenu']=new CHMenu('pnlOffCanvasHeader',{"cssClasses":{"menu":null,"popup":null},"templates":{"itemContent":null,"treeItemContent":null,"dropDownArrow":null},"isMobileViewIfParentOverflow":false,"mobileViewMinWidthThreshold":-1,"selectedItemId":"tabContents","isAllowItemSelection":true,"isEscapeMenuItemText":true,"isUseFontAwesomeIcons":true,"fontAwesomeVersion":"4","isMovePopupToBodyChildLevel":true,"isShowPopupOnHover":false},[{"id":"menuItemMenu","t":"Menu","imgs":{},"c":[],"s":-1,"d":0,"e":0,"isNoFocus":false,"vals":{"_faIconCssClass":""}},{"id":"tabContents","t":"Topics","imgs":{},"c":[],"s":-1,"d":0,"e":0,"isNoFocus":false,"vals":{"_faIconCssClass":""}},{"id":"tabSearch","t":"Search","imgs":{},"c":[],"s":-1,"d":0,"e":0,"isNoFocus":false,"vals":{"_faIconCssClass":""}}]);window['mobileMenu'].onItemClick=function(s,e){webHelpMobileMenuItemClick(s,e);};
//--></script>
        <div id="pnlOffCanvasContent" class="BaseMaster_offCanvasContent">
        </div>        
      </nav>
      <div id="pnlOffCanvasOverlay" class="CHOffCanvasPanel_overlay"></div>
      <nav id="pnlMainMenuContainer" class="BaseMaster_mainMenuContainer">
        <button type="button" aria-label="Show mobile menu" title="Show mobile menu" id="btnMobileMenu" style="display:none"
          class="CHHamburger_container CHHamburger_container-htla BaseMaster_hamburgerMenuIcon">
          <span></span>
        </button>
        <a title='CloudBolt Software' href='https://cloudbolt.io' target='_blank'><img alt='CloudBolt Software' class='BaseMaster_imgLogo' src='../_webHelpImages/cloudbolt_line_transparent_white_FINAL.png' /></a>
        <div id="pnlMainMenu" class="BaseMaster_pnlMainMenu"></div>
        <script  type='text/javascript'>//<!--
window['mainMenu']=new CHMenu('pnlMainMenu',{"cssClasses":{"menu":null,"popup":null},"templates":{"itemContent":null,"treeItemContent":null,"dropDownArrow":null},"isMobileViewIfParentOverflow":true,"mobileViewMinWidthThreshold":979,"selectedItemId":null,"isAllowItemSelection":false,"isEscapeMenuItemText":true,"isUseFontAwesomeIcons":true,"fontAwesomeVersion":"4","isMovePopupToBodyChildLevel":true,"isShowPopupOnHover":false},[{"id":"926ab37c-af98-eab8-2cb6-f0224c32b59e","t":"Getting Support","imgs":{},"c":[],"s":0,"d":0,"e":1,"isNoFocus":false,"vals":{"actionType":"OpenLink","_customCssClass":null,"_url":"https://support.cloudbolt.io/","_target":"_blank"}},{"id":"a93dc193-cfa0-0c55-dc87-ef748c016d3e","t":"CloudBolt API","imgs":{},"c":[],"s":0,"d":0,"e":1,"isNoFocus":false,"vals":{"actionType":"OpenArticle","_customCssClass":null,"_url":"http://docs.cloudbolt.io/articles/cloudbolt-latest-docs/cloudbolt-api-v3","_target":"_blank"}},{"id":"1d7d67de-8445-1336-084c-3d22cc440080","t":"Documentation Portal","imgs":{},"c":[],"s":0,"d":0,"e":1,"isNoFocus":false,"vals":{"actionType":"OpenLink","_customCssClass":null,"_url":"https://docs.cloudbolt.io/"}},{"id":"d4ac0703-4b0e-d846-4521-45b57775c8f2","t":"Knowledge Base","imgs":{},"c":[],"s":0,"d":0,"e":1,"isNoFocus":false,"vals":{"actionType":"OpenLink","_customCssClass":null,"_url":"https://support.cloudbolt.io/hc/en-us/sections/201319545-Knowledge-Base","_target":"_blank"}}]);window['mainMenu'].onViewSwitched=function(s,e){webHelpMasterPageMainMenuViewSwitched(s,e);};
//--></script>
        <div class="WebHelp_searchBoxContainer">
          <input id="edtSearch" type="search" class="WebHelp_searchBox" aria-label="Search" />
          <button id="btnSearch" class="btnSearch" alt="Search" title="Search" aria-label="Search" href="javascript:void(0)"></button>
        </div>
      </nav>
      <div id="pnlContentContainer" class="BaseMaster_contentContainer clearfix">
        <nav id="pnlArticlesNav" class="WebHelp_navPanel">
          <div id="pnlNavTabs" class="WebHelp_navMenu"></div>
          <script  type='text/javascript'>//<!--
window['navMenu']=new CHMenu('pnlNavTabs',{"cssClasses":{"menu":null,"popup":null},"templates":{"itemContent":null,"treeItemContent":null,"dropDownArrow":null},"isMobileViewIfParentOverflow":false,"mobileViewMinWidthThreshold":-1,"selectedItemId":"tabContents","isAllowItemSelection":true,"isEscapeMenuItemText":true,"isUseFontAwesomeIcons":true,"fontAwesomeVersion":"4","isMovePopupToBodyChildLevel":true,"isShowPopupOnHover":false},[{"id":"tabContents","t":"Topics","imgs":{},"c":[],"s":-1,"d":0,"e":0,"isNoFocus":false,"vals":{"_faIconCssClass":""}},{"id":"tabSearch","t":"Search","imgs":{},"c":[],"s":-1,"d":0,"e":0,"isNoFocus":false,"vals":{"_faIconCssClass":""}}]);window['navMenu'].onItemClick=function(s,e){webHelpNavMenuItemClick(s,e);};
//--></script>
          <div id="pnlTocContainer" class="WebHelp_navPanelContent ArticleSelector_tabContent TocTreeLight_container">
            <div id="pnlToc"></div>
          </div>
          <div id="pnlIndex" class="WebHelp_navPanelContent ArticleSelector_tabContent" style="display:none">
            <iframe id="frameIndex" style="height: 100%; width:100%; display:block;" frameborder="0"></iframe>
          </div>
          <div id="pnlSearch" class="WebHelp_navPanelContent ArticleSelector_tabContent" style="display:none">
            <iframe id="frameSearch" style="height: 100%; width:100%; display: block;" frameborder="0"></iframe>
          </div>
        </nav>
        <article class="TopicViewer_container">
          <header id="pnlTopicHeader" class="TopicViewer_header"  style='display:none'>
            <div id="pnlSocial" class="TopicViewer_headerShare">Share: </div>
            <div class="TopicViewer_headerText">
              <div class="ArticleEditor_projectName">cloudbolt_docs</div>
              <strong id="pnlTitle" class="ArticleEditor_title">Blueprint Actions</strong>
              <button type="button" id="btnPrint" class="CHImageButton ArticleEditor_imageButton ArticleEditor_fontAwesomeButton ArticleEditor_btnPrint" title="Print this topic">
                <i class="fa fa-print"></i>
              </button>
            </div>
          </header>
          <div id="pnlTopicContentContainer" class="TopicViewer_contentContainer">
            <!-- START ARTICLE CONTAINER -->
<div class="container">
  <div class="articleBreadcrumb">
    <span class="CHBreadcrumb"><span class="CHBreadcrumb_item CHBreadcrumb_itemHome"><a href="/" target="_top">Home</a></span><span class="CHBreadcrumb_separator">›</span><span class="CHBreadcrumb_item">Using CloudBolt</span><span class="CHBreadcrumb_separator">›</span><span class="CHBreadcrumb_item"><a href="blueprints.html">Blueprints</a></span><span class="CHBreadcrumb_separator">›</span><span class="CHBreadcrumb_item CHBreadcrumb_itemSelf">Blueprint Actions</span></span>
  </div><p>
</p>
<h1 id="h1_1921472730" data-has-heading-anchor="true">
  Blueprint Actions
<a href="blueprint-actions.html#h1_1921472730" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h1>
<p>
  A Blueprint can include one or more&nbsp;<em>Server&nbsp;Tiers</em>. However, there is sometimes a need to add custom logic to the Blueprint deployment process and&nbsp;<em>Blueprint Actions</em>&nbsp;enable this.
</p>
<p>
  CloudBolt Admins manage Blueprint actions in the&nbsp;<em>Build</em>&nbsp;tab of a Blueprint's detail view. Remote Scripts and Copy File Actions can be associated with all Server Tiers, or only specific ones. Actions can be given a name and description that makes  sense in the context of that Blueprint. Default values can be provided for any Action Inputs.
</p>
<hr/>
<h2 id="h2__863071035" data-has-heading-anchor="true">
  Adding a Blueprint Action
<a href="blueprint-actions.html#h2__863071035" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h2>
<ol>
  <li>
    In CloudBolt, click <b>Admin &gt; Catalog </b>and select a Blueprint or <b>Create a Blueprint. </b>These steps assume an existing Blueprint is selected.
  </li>
  <li>
    Click the&nbsp;<b>Build tab.</b>
  </li>
  <li>
    Click <b>+Action.</b>
  </li>
  <li>
    Choose an Action type and fill out the required information.
  </li>
</ol>

  <h3 id="h3__2084975480" data-has-heading-anchor="true">
    Enabling and Disabling Blueprint Actions
  <a href="blueprint-actions.html#h3__2084975480" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h3>
  After an Action type is added to a Blueprint, enable&nbsp;or disable&nbsp;it using the toggle. Disabled Action items&nbsp;will not run when the Blueprint is ordered. Use cases: Troubleshooting Order failures due to specific Actions and testing Actions that are in the process of being developed.


  <h3 id="h3_1667858836" data-has-heading-anchor="true"><br/>Reordering Blueprint Build Items<a href="blueprint-actions.html#h3_1667858836" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h3><p>Users can reorder Blueprint Build Items using drag-and-drop, up/down arrows, or by clicking the order number and entering a new number into the shown field. This last method is useful when the Blueprint has a large amount of Build Items  and significant reordering is needed.</p><ol><li>On the Blueprint, click the <b>Build tab.</b><ul><li>Use the up and down arrows to move the item to the top or bottom of the list.</li><li>Use the hamburger menu to drag and drop a Build Item.</li><li>Click the order number to reveal an empty order field. Type a number and press Enter to reorder the Item to that number.</li></ul></li></ol><p><img src="../Storage/cloudbolt-docs/9-4-7/cmp_947-ui-bp-build-item-order.png" alt="" style="width: 1053px; height: 50px;"/></p><hr/><h2 id="h2_760751321" data-has-heading-anchor="true">Blueprint Validation Orchestration Action
<a href="blueprint-actions.html#h2_760751321" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h2><p>
  The Blueprint Validation Orchestration Action is an Order Related process that occurs during a Blueprint order. This custom script allows you to validate any of the forms and fields on specific forms for values you define on the validation script. For example, you could set a requirement that the Hostname field must begin with "00". Any Hostnames entered that did not meet that criteria would show an error message when the Blueprint is ordered.</p>
<div class="alert alert-info">
  <i class="mdi mdi-information mr-2"></i> If you have previously changed the Blueprint Validation script from the default, you will be able to compare your current script to the latest default, and revert it to the default if desired.</div>
<div class="card">
  <div class="card-header">
    Example Script
  </div>
  <div class="card-body">
    <p>The following example is designed to show an error on the Order Form when the hostname is longer than 12 characters.</p>
  
    <ul><li><span class="inlineCode">[key]</span> = The desired custom value (e.g. an Action Input <span><b>Name)</b></span>
  </li>
  <li><span class="inlineCode">params_name</span> = The form name of the Action Item, in this case, Cluster Provisioning Details</li>
  </ul></div>
  <div class="card-body">
    <table class="CHCodeSample_container notranslate" cellspacing="0" cellpadding="0"><tr class="CHCodeSample_tr1"><td class="CHCodeSample_header"><div class="CHCodeSample_copyCode nonPrintable"><a onclick="copyCodeSample(this)" href="javascript:void(0)">Copy Code</a></div><div class="CHCodeSample_langName notranslate">Python</div></td></tr><tr class="CHCodeSample_tr2"><td class="CHCodeSample_code notranslate cm-s-default"><pre><span class="cm-keyword">from</span> <span class="cm-variable">utilities</span><span class="cm-variable">.logger</span> <span class="cm-keyword">import</span> <span class="cm-variable">ThreadLogger</span><br><span class="cm-variable">logger</span> = <span class="cm-variable">ThreadLogger</span>(<span class="cm-variable">__name__</span>)<br><br><span class="cm-keyword">from</span> <span class="cm-variable">servicecatalog</span><span class="cm-variable">.models</span> <span class="cm-keyword">import</span> <span class="cm-variable">ServiceItem</span><br><br><span class="cm-keyword">def</span> <span class="cm-variable">validate_order_form</span>(<span class="cm-variable">blueprint</span>, <span class="cm-variable">profile</span>, <span class="cm-variable">group</span>, <span class="cm-variable">order_data</span>):<br>    <span class="cm-variable">errors_by_field_id</span> = {}<br>    <br>    <span class="cm-variable">params_name</span> = <span class="cm-string">"Cluster Provisioning Details"</span><br>    <br>    <span class="cm-keyword">if</span>  <span class="cm-variable">blueprint</span><span class="cm-variable">.name</span> <span class="cm-operator">!=</span> <span class="cm-string">"Test Blueprint -- DONT MODIFY"</span>:<br>        <span class="cm-keyword">return</span> <span class="cm-variable">errors_by_field_id</span><br>  <br>    <span class="cm-variable">service_item_id</span> = <span class="cm-variable">f</span><span class="cm-string">'{order_data[params_name]["service_item"].id}'</span><br>    <br>    <span class="cm-keyword">for</span> <span class="cm-variable">key</span>, <span class="cm-variable">val</span> <span class="cm-operator">in</span> <span class="cm-variable">order_data</span>[<span class="cm-variable">params_name</span>]<span class="cm-variable">.items</span>():<br>        <span class="cm-keyword">if</span> <span class="cm-string">"hostname"</span> <span class="cm-operator">==</span> <span class="cm-variable">key</span> <span class="cm-operator">and</span> <span class="cm-builtin">len</span>(<span class="cm-variable">val</span>) <span class="cm-operator">&gt;</span> <span class="cm-number">12</span>:<br>            <span class="cm-keyword">if</span> <span class="cm-variable">service_item_id</span> <span class="cm-operator">not</span> <span class="cm-operator">in</span> <span class="cm-variable">errors_by_field_id</span>:<br>                <span class="cm-variable">errors_by_field_id</span>[<span class="cm-variable">service_item_id</span>] = {}<br>            <span class="cm-variable">errors_by_field_id</span>[<span class="cm-variable">service_item_id</span>][<span class="cm-variable">key</span>] = <span class="cm-string">'Hostname longer than 12 characters'</span><br><br>    <span class="cm-keyword">return</span> <span class="cm-variable">errors_by_field_id</span></pre></td></tr></table>
  </div>
</div>
<p>
  &nbsp;
</p>
<h3 id="h3_1988553905" data-has-heading-anchor="true">
  Action Types
<a href="blueprint-actions.html#h3_1988553905" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h3>
<ul style="margin-left: 0px;">
  <li>
    <a href="cloudbolt-plug-ins.html">CloudBolt Plug-in</a>
  </li>
  <li>
    <a href="remote-scripts.html">Remote Script</a>
  </li>
  <li>
    <a href="file-copy-actions.html">Copy File</a>
  </li>
  <li>
    <a href="external-flows.html">External Flow</a>
  </li>
  <li>
    <a href="webhooks.html">Webhook</a>
  </li>
  <li>
    <a href="email-hooks.html">Email Hook</a>
  </li>
  <li>
    <a href="terraform-plan-actions.html">Terraform Plan</a>
  </li>
  <li>
    <a href="terraform-configuration-in-cloudbolt.html" target="_blank">Terraform Configuration Blueprint Item</a>
  </li>
</ul>  <div class="articleActions row pt-4 mt-5 mb-4 ml-0">
    <div class="col-6">
      <span class="CHNavCaption">Previous Topic</span><a href="discovery-sync-configuration.html" class="articleActions_link CHNavLinkPrevious">Discovery/Sync Configuration</a>
    </div>
    <div class="col-6 text-right">
      <span class="CHNavCaption">Next Topic</span><a href="blueprints-from-remote-source.html" class="articleActions_link CHNavLinkNext">Blueprints from Remote Source</a>
    </div>
  </div>
</div>
<!-- END ARTICLE CONTAINER -->
<!-- FOOTER -->
<div class="footer">
  <div class="footerInner">
    <div class="container">
      <div class="row">
        <div class="col-6">
          <div class="row">
            <div class="col-12">
              <a href="https://www.cloudbolt.io/" target="_blank">
                <img src="../Storage/cloudbolt-docs/logos/cb-horizontal-white.svg" class="img-fluid footerLogo" alt="CloudBolt"/>
              </a>
            </div>
          </div>
          <div class="row mt-4">
            <div class="col-12">
              <a class="btn btn-social" href="mailto:support@cloudbolt.io" role="button" target="_top">
                <span class="btn-icon"><i class="mdi mdi-face-agent"></i></span>
                support@cloudbolt.io
              </a>
            </div>
          </div>
        </div>
        <div class="col-6">
          <p class="footerTitle">
            About the Company
          </p>
          <p class="footerAbout" data-children-count="1">
            CloudBolt&#39;s hybrid cloud platform for enterprises helps IT admins provide simple to very complex IT resources to end users from a single portal.
          </p>
          <ul class="socials">
            <li class="mr-3">
              <a class="social-link" href="https://www.facebook.com/CloudBoltSoftware/" target="_blank" title="Facebook">
                <i class="mdi mdi-facebook"></i>
              </a>
            </li>
            <li class="mr-3">
              <a class="social-link" href="https://twitter.com/CloudBoltSW" target="_blank" title="Twitter">
                <i class="mdi mdi-twitter"></i>
              </a>
            </li>
            <li class="mr-3">
              <a class="social-link" href="https://www.linkedin.com/company/cloudbolt/" target="_blank" title="LinkedIn">
                <i class="mdi mdi-linkedin"></i>
              </a>
            </li>
            <li>
              <a class="social-link" href="https://github.com/CloudBoltSoftware/cloudbolt-forge" target="_blank" title="GitHub">
                <i class="mdi mdi-github"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-12 text-center">
          <span class="copyright mt-5" data-children-count="1">© CloudBolt Software. All rights reserved</span>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
  if (window['initFooter']) {
    initFooter();
  }
</script>
<!-- SCRIPTS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="../Scripts/project-cloudbolt-docs/lightbox-plus-jquery.min.js"></script>
          </div>
        </article>
      </div>
    </div>
  </div>  
</body>
</html>
