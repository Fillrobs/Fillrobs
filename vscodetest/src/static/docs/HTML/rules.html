<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="MobileOptimized" content="width">
  <meta name="HandheldFriendly" content="true">
  <script type="text/javascript">
    var addThisScriptUrl = 'https://s7.addthis.com/js/300/addthis_widget.js';
  </script>
  <link rel='shortcut icon' href='../_webHelpImages/cloudbolt-login-logo.png' /><link rel='icon' href='../_webHelpImages/cloudbolt-login-logo.png' />
  <link rel='stylesheet' type='text/css' href='../_webHelpStyles/CHWebHelp.css?t=637806378603891771'/><link rel='stylesheet' type='text/css' href='../_webHelpStyles/CommonControls.css?t=637806378603891771'/><link rel='stylesheet' type='text/css' href='../_webHelpStyles/CommonControls/FontAwesome/css/font-awesome.min-ignore.css?t=637806378603891771'/><link rel='stylesheet' type='text/css' href='../_webHelpStyles/z-Branding.css?t=637806378603891771'/>
  <script  src='../_webHelpScripts/Master/1-script.js?t=637806378603891771' type='text/javascript'></script><script  src='../_webHelpScripts/Master/toc_nav.js?t=637806378603891771' type='text/javascript'></script>
  <link rel="stylesheet" href="https://cdn.materialdesignicons.com/5.0.45/css/materialdesignicons.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://kit.fontawesome.com/68d03bdd6e.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
<script type="text/javascript">//<!--
appendEventHandler(window, 'load', function() {webHelpSelectTocNodeByExtId('rules',true);});
//--></script><title>Rules</title><script type="text/javascript">//<!--
var articleTitleText='Rules';
//--></script><link rel="stylesheet" type="text/css" href="../Styles/article-published.css"/><link rel="stylesheet" type="text/css" href="../Styles/cloudbolt-docs/CloudBoltBranding.css"/><script src="../Scripts/article-published.js" type="text/javascript"></script><script src="../Scripts/cloudbolt-docs/Script1.js" type="text/javascript"></script><script src="../Scripts/cloudbolt-docs/Script2.js" type="text/javascript"></script><meta charset="utf-8"><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  
</head>
<body class="WebHelp_body">
  <div id="pnlContainer" class="CHOffCanvasPanel_container">
    <div class="CHOffCanvasPanel_content">
      <nav id="pnlOffCanvasNav" class="CHOffCanvasPanel_nav noselect">
        <div id="pnlOffCanvasHeader" class="BaseMaster_offCanvasHeader">
        </div>
        <script  type='text/javascript'>//<!--
window['mobileMenu']=new CHMenu('pnlOffCanvasHeader',{"cssClasses":{"menu":null,"popup":null},"templates":{"itemContent":null,"treeItemContent":null,"dropDownArrow":null},"isMobileViewIfParentOverflow":false,"mobileViewMinWidthThreshold":-1,"selectedItemId":"tabContents","isAllowItemSelection":true,"isEscapeMenuItemText":true,"isUseFontAwesomeIcons":true,"fontAwesomeVersion":"4","isMovePopupToBodyChildLevel":true,"isShowPopupOnHover":false},[{"id":"menuItemMenu","t":"Menu","imgs":{},"c":[],"s":-1,"d":0,"e":0,"isNoFocus":false,"vals":{"_faIconCssClass":""}},{"id":"tabContents","t":"Topics","imgs":{},"c":[],"s":-1,"d":0,"e":0,"isNoFocus":false,"vals":{"_faIconCssClass":""}},{"id":"tabSearch","t":"Search","imgs":{},"c":[],"s":-1,"d":0,"e":0,"isNoFocus":false,"vals":{"_faIconCssClass":""}}]);window['mobileMenu'].onItemClick=function(s,e){webHelpMobileMenuItemClick(s,e);};
//--></script>
        <div id="pnlOffCanvasContent" class="BaseMaster_offCanvasContent">
        </div>        
      </nav>
      <div id="pnlOffCanvasOverlay" class="CHOffCanvasPanel_overlay"></div>
      <nav id="pnlMainMenuContainer" class="BaseMaster_mainMenuContainer">
        <button type="button" aria-label="Show mobile menu" title="Show mobile menu" id="btnMobileMenu" style="display:none"
          class="CHHamburger_container CHHamburger_container-htla BaseMaster_hamburgerMenuIcon">
          <span></span>
        </button>
        <a title='CloudBolt Software' href='https://cloudbolt.io' target='_blank'><img alt='CloudBolt Software' class='BaseMaster_imgLogo' src='../_webHelpImages/cloudbolt_line_transparent_white_FINAL.png' /></a>
        <div id="pnlMainMenu" class="BaseMaster_pnlMainMenu"></div>
        <script  type='text/javascript'>//<!--
window['mainMenu']=new CHMenu('pnlMainMenu',{"cssClasses":{"menu":null,"popup":null},"templates":{"itemContent":null,"treeItemContent":null,"dropDownArrow":null},"isMobileViewIfParentOverflow":true,"mobileViewMinWidthThreshold":979,"selectedItemId":null,"isAllowItemSelection":false,"isEscapeMenuItemText":true,"isUseFontAwesomeIcons":true,"fontAwesomeVersion":"4","isMovePopupToBodyChildLevel":true,"isShowPopupOnHover":false},[{"id":"926ab37c-af98-eab8-2cb6-f0224c32b59e","t":"Getting Support","imgs":{},"c":[],"s":0,"d":0,"e":1,"isNoFocus":false,"vals":{"actionType":"OpenLink","_customCssClass":null,"_url":"https://support.cloudbolt.io/","_target":"_blank"}},{"id":"a93dc193-cfa0-0c55-dc87-ef748c016d3e","t":"CloudBolt API","imgs":{},"c":[],"s":0,"d":0,"e":1,"isNoFocus":false,"vals":{"actionType":"OpenArticle","_customCssClass":null,"_url":"http://docs.cloudbolt.io/articles/cloudbolt-latest-docs/cloudbolt-api-v3","_target":"_blank"}},{"id":"1d7d67de-8445-1336-084c-3d22cc440080","t":"Documentation Portal","imgs":{},"c":[],"s":0,"d":0,"e":1,"isNoFocus":false,"vals":{"actionType":"OpenLink","_customCssClass":null,"_url":"https://docs.cloudbolt.io/"}},{"id":"d4ac0703-4b0e-d846-4521-45b57775c8f2","t":"Knowledge Base","imgs":{},"c":[],"s":0,"d":0,"e":1,"isNoFocus":false,"vals":{"actionType":"OpenLink","_customCssClass":null,"_url":"https://support.cloudbolt.io/hc/en-us/sections/201319545-Knowledge-Base","_target":"_blank"}}]);window['mainMenu'].onViewSwitched=function(s,e){webHelpMasterPageMainMenuViewSwitched(s,e);};
//--></script>
        <div class="WebHelp_searchBoxContainer">
          <input id="edtSearch" type="search" class="WebHelp_searchBox" aria-label="Search" />
          <button id="btnSearch" class="btnSearch" alt="Search" title="Search" aria-label="Search" href="javascript:void(0)"></button>
        </div>
      </nav>
      <div id="pnlContentContainer" class="BaseMaster_contentContainer clearfix">
        <nav id="pnlArticlesNav" class="WebHelp_navPanel">
          <div id="pnlNavTabs" class="WebHelp_navMenu"></div>
          <script  type='text/javascript'>//<!--
window['navMenu']=new CHMenu('pnlNavTabs',{"cssClasses":{"menu":null,"popup":null},"templates":{"itemContent":null,"treeItemContent":null,"dropDownArrow":null},"isMobileViewIfParentOverflow":false,"mobileViewMinWidthThreshold":-1,"selectedItemId":"tabContents","isAllowItemSelection":true,"isEscapeMenuItemText":true,"isUseFontAwesomeIcons":true,"fontAwesomeVersion":"4","isMovePopupToBodyChildLevel":true,"isShowPopupOnHover":false},[{"id":"tabContents","t":"Topics","imgs":{},"c":[],"s":-1,"d":0,"e":0,"isNoFocus":false,"vals":{"_faIconCssClass":""}},{"id":"tabSearch","t":"Search","imgs":{},"c":[],"s":-1,"d":0,"e":0,"isNoFocus":false,"vals":{"_faIconCssClass":""}}]);window['navMenu'].onItemClick=function(s,e){webHelpNavMenuItemClick(s,e);};
//--></script>
          <div id="pnlTocContainer" class="WebHelp_navPanelContent ArticleSelector_tabContent TocTreeLight_container">
            <div id="pnlToc"></div>
          </div>
          <div id="pnlIndex" class="WebHelp_navPanelContent ArticleSelector_tabContent" style="display:none">
            <iframe id="frameIndex" style="height: 100%; width:100%; display:block;" frameborder="0"></iframe>
          </div>
          <div id="pnlSearch" class="WebHelp_navPanelContent ArticleSelector_tabContent" style="display:none">
            <iframe id="frameSearch" style="height: 100%; width:100%; display: block;" frameborder="0"></iframe>
          </div>
        </nav>
        <article class="TopicViewer_container">
          <header id="pnlTopicHeader" class="TopicViewer_header"  style='display:none'>
            <div id="pnlSocial" class="TopicViewer_headerShare">Share: </div>
            <div class="TopicViewer_headerText">
              <div class="ArticleEditor_projectName">cloudbolt_docs</div>
              <strong id="pnlTitle" class="ArticleEditor_title">Rules</strong>
              <button type="button" id="btnPrint" class="CHImageButton ArticleEditor_imageButton ArticleEditor_fontAwesomeButton ArticleEditor_btnPrint" title="Print this topic">
                <i class="fa fa-print"></i>
              </button>
            </div>
          </header>
          <div id="pnlTopicContentContainer" class="TopicViewer_contentContainer">
            <!-- START ARTICLE CONTAINER -->
<div class="container">
  <div class="articleBreadcrumb">
    <span class="CHBreadcrumb"><span class="CHBreadcrumb_item CHBreadcrumb_itemHome"><a href="/" target="_top">Home</a></span><span class="CHBreadcrumb_separator">›</span><span class="CHBreadcrumb_item">Using CloudBolt</span><span class="CHBreadcrumb_separator">›</span><span class="CHBreadcrumb_item"><a href="orchestration.html">Orchestration</a></span><span class="CHBreadcrumb_separator">›</span><span class="CHBreadcrumb_item CHBreadcrumb_itemSelf">Rules</span></span>
  </div><h1 id="h1__441424431" data-has-heading-anchor="true"><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Rules</span><a href="rules.html#h1__441424431" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h1><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Rules&nbsp;allow CloudBolt admins to define conditional logic that is periodically executed and that may trigger custom actions based on the result. They can be used, for example, to automate policy enforcement through corrective actions, adapt proactively based on the state of your environment, or perform health checks and notify stakeholders of required actions.</span></p><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Enabled&nbsp;rules&nbsp;run on a regular schedule as defined by a CloudBolt recurring job which is run nightly at midnight by default (see&nbsp;<em>Admin -&gt; Recurring Jobs</em>). You can also run&nbsp;rules&nbsp;on demand from the&nbsp;<em>Admin -&gt; Rules</em>&nbsp;page in the UI, either individually or in bulk.</span></p><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">A rule is a logical statement comprised of a condition action (<em>“If”</em>) and one or more actions that are triggered (<em>“Then”</em>) as a result of a positive test.</span></p><div id="action-types-for-rules"><h3 id="h3_1477960103" data-has-heading-anchor="true"><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Action Types for&nbsp;rules</span><a href="rules.html#h3_1477960103" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h3><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Both the Condition and Action(s) of a rule are CloudBolt Actions of type CloudBolt Plug-in. For implementation details, refer to the&nbsp;<a href="cloudbolt-plug-ins.html">CloudBolt Plug-ins</a>&nbsp;section. However, be aware that the underlying Python method and return signatures for a Condition CloudBolt Plug-in differ from other CloudBolt Plug-ins in two ways:</span></p><ul><li><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Condition CloudBolt Plug-ins return a four-tuple (instead of a three-tuple); the additional value is a parameters dictionary which must have a value (not None) for the condition to be satisfied; otherwise, if the fourth tuple member is None, the condition is not satisfied and the Actions do not run.</span></li><li><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Condition CloudBolt Plug-ins are called with a function called check(), instead of a function called run() as in&nbsp;<em>Orchestration Actions</em>&nbsp;or&nbsp;<em>Server Actions</em>.</span></li></ul><dl><dt id="check"><code><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">check</span>(<em>job</em>,&nbsp;<em>logger</em>)</code></dt><dd><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Is passed a CloudBolt Job object and a standard Python Logger object (<a href="http://docs.python.org/2/library/logging.html" target="_top">http://docs.python.org/2/library/logging.html</a>). Should return a tuple of 3 strings and 1 dictionary: (status, output, errors, params). On success, the plug-in should return (“”, “”, “”, {params_dictionary_values}) if the condition is met or (“”, “”, “”, None) if the condition is not met.</span></p><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">If the params dictionary returned is None, the job will end and the Actions for this rule will not run.</span></p><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">If the params dictionary has values, the Actions will run as separate jobs and will each be passed the params dictionary via the job parameters associated with each sub job created.</span></p></dd></dl></div><div id="out-of-the-box-rules"><h3 id="h3__1797366217" data-has-heading-anchor="true"><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Out-of-the-box&nbsp;Rules</span><a href="rules.html#h3__1797366217" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h3><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">CloudBolt ships with a set of sample&nbsp;rules, some of which are enabled by default. Go to&nbsp;<em>Admin -&gt;&nbsp;Rules</em>&nbsp;to view and enable/disable them. Since&nbsp;rules&nbsp;are made of actions, you can view and modify their source code by visiting&nbsp;<em>Admin -&gt; All Actions</em>.</span></p><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Below are some examples of&nbsp;rules&nbsp;that ship with CloudBolt.</span></p><div id="email-cb-admin-when-license-warning-for-thresholds"><h4 id="h4_1067351672" data-has-heading-anchor="true"><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Email CB Admin when License Warning for Thresholds</span><a href="rules.html#h4_1067351672" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h4><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">This rule ships out of the box with CloudBolt 5.3 and above. It is enabled by default.</span></p><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">It sends an email alert to the CB admin when the CB license is going to expire in less than a threshold number of days or more than a threshold percentage of its maximum number of servers are in use. The out of the box value for the expiration days threshold is 7 and for the percent of servers used threshold it is 75%.</span></p></div><div id="notify-admins-when-a-newer-version-of-cloudbolt-is-available"><h4 id="h4__778377195" data-has-heading-anchor="true"><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Notify Admins when a Newer Version of CloudBolt is Available</span><a href="rules.html#h4__778377195" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h4><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">This rule ships out of the box with CloudBolt 5.3.1 and above, and is enabled by default.</span></p><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">It checks for a version of CloudBolt newer than what you are running, stores that information, and emails the CB Admin if there is one.</span></p></div><div id="email-group-admins-when-quota-usage-over-threshold"><h4 id="h4_891521173" data-has-heading-anchor="true"><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Email Group Admins when Quota Usage over Threshold</span><a href="rules.html#h4_891521173" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h4><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">This rule ships with CloudBolt out of the box with CloudBolt 5.1 and above. It is disabled by default.</span></p><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">When a Group’s quota reaches a defined threshold, sends email alerts to all users who have the group.manage_subgroup_quotas permission as a virtue of their roles in that Group. The out of the box value for the threshold is 80%.</span></p></div><div id="email-owners-of-aws-vms-missing-required-tags"><h4 id="h4_539233094" data-has-heading-anchor="true"><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Email owners of AWS VMs Missing Required Tags</span><a href="rules.html#h4_539233094" class="CHHeadingLink" title="Link to this heading" aria-hidden="true"></a></h4><p><span style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;">Checks servers in AWS environments for a set of required AWS tags and emails the server owner if any are missing. Added in CloudBolt 5.2 and disabled by default.</span></p></div></div>  <div class="articleActions row pt-4 mt-5 mb-4 ml-0">
    <div class="col-6">
      <span class="CHNavCaption">Previous Topic</span><a href="caveats.html" class="articleActions_link CHNavLinkPrevious">Caveats</a>
    </div>
    <div class="col-6 text-right">
      <span class="CHNavCaption">Next Topic</span><a href="external-orchestrators.html" class="articleActions_link CHNavLinkNext">External Orchestrators</a>
    </div>
  </div>
</div>
<!-- END ARTICLE CONTAINER -->
<!-- FOOTER -->
<div class="footer">
  <div class="footerInner">
    <div class="container">
      <div class="row">
        <div class="col-6">
          <div class="row">
            <div class="col-12">
              <a href="https://www.cloudbolt.io/" target="_blank">
                <img src="../Storage/cloudbolt-docs/logos/cb-horizontal-white.svg" class="img-fluid footerLogo" alt="CloudBolt"/>
              </a>
            </div>
          </div>
          <div class="row mt-4">
            <div class="col-12">
              <a class="btn btn-social" href="mailto:support@cloudbolt.io" role="button" target="_top">
                <span class="btn-icon"><i class="mdi mdi-face-agent"></i></span>
                support@cloudbolt.io
              </a>
            </div>
          </div>
        </div>
        <div class="col-6">
          <p class="footerTitle">
            About the Company
          </p>
          <p class="footerAbout" data-children-count="1">
            CloudBolt&#39;s hybrid cloud platform for enterprises helps IT admins provide simple to very complex IT resources to end users from a single portal.
          </p>
          <ul class="socials">
            <li class="mr-3">
              <a class="social-link" href="https://www.facebook.com/CloudBoltSoftware/" target="_blank" title="Facebook">
                <i class="mdi mdi-facebook"></i>
              </a>
            </li>
            <li class="mr-3">
              <a class="social-link" href="https://twitter.com/CloudBoltSW" target="_blank" title="Twitter">
                <i class="mdi mdi-twitter"></i>
              </a>
            </li>
            <li class="mr-3">
              <a class="social-link" href="https://www.linkedin.com/company/cloudbolt/" target="_blank" title="LinkedIn">
                <i class="mdi mdi-linkedin"></i>
              </a>
            </li>
            <li>
              <a class="social-link" href="https://github.com/CloudBoltSoftware/cloudbolt-forge" target="_blank" title="GitHub">
                <i class="mdi mdi-github"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-12 text-center">
          <span class="copyright mt-5" data-children-count="1">© CloudBolt Software. All rights reserved</span>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
  if (window['initFooter']) {
    initFooter();
  }
</script>
<!-- SCRIPTS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="../Scripts/project-cloudbolt-docs/lightbox-plus-jquery.min.js"></script>
          </div>
        </article>
      </div>
    </div>
  </div>  
</body>
</html>
